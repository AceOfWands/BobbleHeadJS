var BobbleHead=function(e){var t={};function u(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,u),r.l=!0,r.exports}return u.m=e,u.c=t,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u(u.s=44)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function u(e,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}},function(e,t){function u(t){return e.exports=u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(t)}e.exports=u},function(e,t,u){var n=u(29),r=u(16);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?r(e):t}},function(e,t,u){var n=u(15);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,u){e.exports=u(27)},function(e,t,u){"use strict";var n,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,u){return Function.prototype.apply.call(e,t,u)};n=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,u,n){var r,i,o,a;if("function"!=typeof u)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,u.listener?u.listener:u),i=e._events),o=i[t]),void 0===o)o=i[t]=u,++e._eventsCount;else if("function"==typeof o?o=i[t]=n?[u,o]:[o,u]:n?o.unshift(u):o.push(u),(r=c(e))>0&&o.length>r&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,a=s,console&&console.warn&&console.warn(a)}return e}function f(e,t,u){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:u},r=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}.bind(n);return r.listener=u,n.wrapFn=r,r}function D(e,t,u){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"==typeof r?u?[r.listener||r]:[r]:u?function(e){for(var t=new Array(e.length),u=0;u<t.length;++u)t[u]=e[u].listener||e[u];return t}(r):h(r,r.length)}function d(e){var t=this._events;if(void 0!==t){var u=t[e];if("function"==typeof u)return 1;if(void 0!==u)return u.length}return 0}function h(e,t){for(var u=new Array(t),n=0;n<t;++n)u[n]=e[n];return u}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],u=1;u<arguments.length;u++)t.push(arguments[u]);var n="error"===e,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=r[e];if(void 0===s)return!1;if("function"==typeof s)i(s,this,t);else{var c=s.length,l=h(s,c);for(u=0;u<c;++u)i(l[u],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var u,n,r,i,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(u=n[e]))return this;if(u===t||u.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,u.listener||t));else if("function"!=typeof u){for(r=-1,i=u.length-1;i>=0;i--)if(u[i]===t||u[i].listener===t){o=u[i].listener,r=i;break}if(r<0)return this;0===r?u.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(u,r),1===u.length&&(n[e]=u[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,u,n;if(void 0===(u=this._events))return this;if(void 0===u.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==u[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete u[e]),this;if(0===arguments.length){var r,i=Object.keys(u);for(n=0;n<i.length;++n)"removeListener"!==(r=i[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=u[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return D(this,e,!0)},a.prototype.rawListeners=function(e){return D(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var u=function(){};u.prototype=t.prototype,e.prototype=new u,e.prototype.constructor=e}},function(e,t,u){"use strict";(function(t){var u,n,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var i=0,o=new r(l),a=t.document.createTextNode("");o.observe(a,{characterData:!0}),u=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)u="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var s=new t.MessageChannel;s.port1.onmessage=l,u=function(){s.port2.postMessage(0)}}var c=[];function l(){var e,t;n=!0;for(var u=c.length;u;){for(t=c,c=[],e=-1;++e<u;)t[e]();u=c.length}n=!1}e.exports=function(e){1!==c.push(e)||n||u()}}).call(this,u(13))},function(e,t,u){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var u=[],n=-1;++n<t;)u[n]=arguments[n];return e.call(this,u)}return e.call(this,[])}}},function(e,t,u){(function(t){e.exports=t.Sandbox=u(30)}).call(this,u(13))},function(e,t){function u(e,t,u,n,r,i,o){try{var a=e[i](o),s=a.value}catch(e){return void u(e)}a.done?t(s):Promise.resolve(s).then(n,r)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)})}}},function(e,t,u){var n,r;void 0===(r="function"==typeof(n=function(){function e(e,t){var o=e[0],a=e[1],s=e[2],c=e[3];o=u(o,a,s,c,t[0],7,-680876936),c=u(c,o,a,s,t[1],12,-389564586),s=u(s,c,o,a,t[2],17,606105819),a=u(a,s,c,o,t[3],22,-1044525330),o=u(o,a,s,c,t[4],7,-176418897),c=u(c,o,a,s,t[5],12,1200080426),s=u(s,c,o,a,t[6],17,-1473231341),a=u(a,s,c,o,t[7],22,-45705983),o=u(o,a,s,c,t[8],7,1770035416),c=u(c,o,a,s,t[9],12,-1958414417),s=u(s,c,o,a,t[10],17,-42063),a=u(a,s,c,o,t[11],22,-1990404162),o=u(o,a,s,c,t[12],7,1804603682),c=u(c,o,a,s,t[13],12,-40341101),s=u(s,c,o,a,t[14],17,-1502002290),a=u(a,s,c,o,t[15],22,1236535329),o=n(o,a,s,c,t[1],5,-165796510),c=n(c,o,a,s,t[6],9,-1069501632),s=n(s,c,o,a,t[11],14,643717713),a=n(a,s,c,o,t[0],20,-373897302),o=n(o,a,s,c,t[5],5,-701558691),c=n(c,o,a,s,t[10],9,38016083),s=n(s,c,o,a,t[15],14,-660478335),a=n(a,s,c,o,t[4],20,-405537848),o=n(o,a,s,c,t[9],5,568446438),c=n(c,o,a,s,t[14],9,-1019803690),s=n(s,c,o,a,t[3],14,-187363961),a=n(a,s,c,o,t[8],20,1163531501),o=n(o,a,s,c,t[13],5,-1444681467),c=n(c,o,a,s,t[2],9,-51403784),s=n(s,c,o,a,t[7],14,1735328473),a=n(a,s,c,o,t[12],20,-1926607734),o=r(o,a,s,c,t[5],4,-378558),c=r(c,o,a,s,t[8],11,-2022574463),s=r(s,c,o,a,t[11],16,1839030562),a=r(a,s,c,o,t[14],23,-35309556),o=r(o,a,s,c,t[1],4,-1530992060),c=r(c,o,a,s,t[4],11,1272893353),s=r(s,c,o,a,t[7],16,-155497632),a=r(a,s,c,o,t[10],23,-1094730640),o=r(o,a,s,c,t[13],4,681279174),c=r(c,o,a,s,t[0],11,-358537222),s=r(s,c,o,a,t[3],16,-722521979),a=r(a,s,c,o,t[6],23,76029189),o=r(o,a,s,c,t[9],4,-640364487),c=r(c,o,a,s,t[12],11,-421815835),s=r(s,c,o,a,t[15],16,530742520),a=r(a,s,c,o,t[2],23,-995338651),o=i(o,a,s,c,t[0],6,-198630844),c=i(c,o,a,s,t[7],10,1126891415),s=i(s,c,o,a,t[14],15,-1416354905),a=i(a,s,c,o,t[5],21,-57434055),o=i(o,a,s,c,t[12],6,1700485571),c=i(c,o,a,s,t[3],10,-1894986606),s=i(s,c,o,a,t[10],15,-1051523),a=i(a,s,c,o,t[1],21,-2054922799),o=i(o,a,s,c,t[8],6,1873313359),c=i(c,o,a,s,t[15],10,-30611744),s=i(s,c,o,a,t[6],15,-1560198380),a=i(a,s,c,o,t[13],21,1309151649),o=i(o,a,s,c,t[4],6,-145523070),c=i(c,o,a,s,t[11],10,-1120210379),s=i(s,c,o,a,t[2],15,718787259),a=i(a,s,c,o,t[9],21,-343485551),e[0]=l(o,e[0]),e[1]=l(a,e[1]),e[2]=l(s,e[2]),e[3]=l(c,e[3])}function t(e,t,u,n,r,i){return t=l(l(t,e),l(n,i)),l(t<<r|t>>>32-r,u)}function u(e,u,n,r,i,o,a){return t(u&n|~u&r,e,u,i,o,a)}function n(e,u,n,r,i,o,a){return t(u&r|n&~r,e,u,i,o,a)}function r(e,u,n,r,i,o,a){return t(u^n^r,e,u,i,o,a)}function i(e,u,n,r,i,o,a){return t(n^(u|~r),e,u,i,o,a)}function o(t){txt="";var u,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(u=64;u<=t.length;u+=64)e(r,a(t.substring(u-64,u)));t=t.substring(u-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(u=0;u<t.length;u++)i[u>>2]|=t.charCodeAt(u)<<(u%4<<3);if(i[u>>2]|=128<<(u%4<<3),u>55)for(e(r,i),u=0;16>u;u++)i[u]=0;return i[14]=8*n,e(r,i),r}function a(e){var t,u=[];for(t=0;64>t;t+=4)u[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return u}function s(e){for(var t="",u=0;4>u;u++)t+=f[e>>8*u+4&15]+f[e>>8*u&15];return t}function c(e){return function(e){for(var t=0;t<e.length;t++)e[t]=s(e[t]);return e.join("")}(o(e))}function l(e,t){return e+t&4294967295}function l(e,t){var u=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(u>>16);return n<<16|65535&u}var f="0123456789abcdef".split("");return c("hello"),c})?n.call(t,u,t,e):n)||(e.exports=r)},function(e,t){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch(e){"object"==typeof window&&(u=window)}e.exports=u},function(e,t,u){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function u(e,t){var u=e[0],n=e[1],r=e[2],i=e[3];u+=(n&r|~n&i)+t[0]-680876936|0,i+=((u=(u<<7|u>>>25)+n|0)&n|~u&r)+t[1]-389564586|0,r+=((i=(i<<12|i>>>20)+u|0)&u|~i&n)+t[2]+606105819|0,n+=((r=(r<<17|r>>>15)+i|0)&i|~r&u)+t[3]-1044525330|0,u+=((n=(n<<22|n>>>10)+r|0)&r|~n&i)+t[4]-176418897|0,i+=((u=(u<<7|u>>>25)+n|0)&n|~u&r)+t[5]+1200080426|0,r+=((i=(i<<12|i>>>20)+u|0)&u|~i&n)+t[6]-1473231341|0,n+=((r=(r<<17|r>>>15)+i|0)&i|~r&u)+t[7]-45705983|0,u+=((n=(n<<22|n>>>10)+r|0)&r|~n&i)+t[8]+1770035416|0,i+=((u=(u<<7|u>>>25)+n|0)&n|~u&r)+t[9]-1958414417|0,r+=((i=(i<<12|i>>>20)+u|0)&u|~i&n)+t[10]-42063|0,n+=((r=(r<<17|r>>>15)+i|0)&i|~r&u)+t[11]-1990404162|0,u+=((n=(n<<22|n>>>10)+r|0)&r|~n&i)+t[12]+1804603682|0,i+=((u=(u<<7|u>>>25)+n|0)&n|~u&r)+t[13]-40341101|0,r+=((i=(i<<12|i>>>20)+u|0)&u|~i&n)+t[14]-1502002290|0,n+=((r=(r<<17|r>>>15)+i|0)&i|~r&u)+t[15]+1236535329|0,u+=((n=(n<<22|n>>>10)+r|0)&i|r&~i)+t[1]-165796510|0,i+=((u=(u<<5|u>>>27)+n|0)&r|n&~r)+t[6]-1069501632|0,r+=((i=(i<<9|i>>>23)+u|0)&n|u&~n)+t[11]+643717713|0,n+=((r=(r<<14|r>>>18)+i|0)&u|i&~u)+t[0]-373897302|0,u+=((n=(n<<20|n>>>12)+r|0)&i|r&~i)+t[5]-701558691|0,i+=((u=(u<<5|u>>>27)+n|0)&r|n&~r)+t[10]+38016083|0,r+=((i=(i<<9|i>>>23)+u|0)&n|u&~n)+t[15]-660478335|0,n+=((r=(r<<14|r>>>18)+i|0)&u|i&~u)+t[4]-405537848|0,u+=((n=(n<<20|n>>>12)+r|0)&i|r&~i)+t[9]+568446438|0,i+=((u=(u<<5|u>>>27)+n|0)&r|n&~r)+t[14]-1019803690|0,r+=((i=(i<<9|i>>>23)+u|0)&n|u&~n)+t[3]-187363961|0,n+=((r=(r<<14|r>>>18)+i|0)&u|i&~u)+t[8]+1163531501|0,u+=((n=(n<<20|n>>>12)+r|0)&i|r&~i)+t[13]-1444681467|0,i+=((u=(u<<5|u>>>27)+n|0)&r|n&~r)+t[2]-51403784|0,r+=((i=(i<<9|i>>>23)+u|0)&n|u&~n)+t[7]+1735328473|0,n+=((r=(r<<14|r>>>18)+i|0)&u|i&~u)+t[12]-1926607734|0,u+=((n=(n<<20|n>>>12)+r|0)^r^i)+t[5]-378558|0,i+=((u=(u<<4|u>>>28)+n|0)^n^r)+t[8]-2022574463|0,r+=((i=(i<<11|i>>>21)+u|0)^u^n)+t[11]+1839030562|0,n+=((r=(r<<16|r>>>16)+i|0)^i^u)+t[14]-35309556|0,u+=((n=(n<<23|n>>>9)+r|0)^r^i)+t[1]-1530992060|0,i+=((u=(u<<4|u>>>28)+n|0)^n^r)+t[4]+1272893353|0,r+=((i=(i<<11|i>>>21)+u|0)^u^n)+t[7]-155497632|0,n+=((r=(r<<16|r>>>16)+i|0)^i^u)+t[10]-1094730640|0,u+=((n=(n<<23|n>>>9)+r|0)^r^i)+t[13]+681279174|0,i+=((u=(u<<4|u>>>28)+n|0)^n^r)+t[0]-358537222|0,r+=((i=(i<<11|i>>>21)+u|0)^u^n)+t[3]-722521979|0,n+=((r=(r<<16|r>>>16)+i|0)^i^u)+t[6]+76029189|0,u+=((n=(n<<23|n>>>9)+r|0)^r^i)+t[9]-640364487|0,i+=((u=(u<<4|u>>>28)+n|0)^n^r)+t[12]-421815835|0,r+=((i=(i<<11|i>>>21)+u|0)^u^n)+t[15]+530742520|0,n+=((r=(r<<16|r>>>16)+i|0)^i^u)+t[2]-995338651|0,u+=(r^((n=(n<<23|n>>>9)+r|0)|~i))+t[0]-198630844|0,i+=(n^((u=(u<<6|u>>>26)+n|0)|~r))+t[7]+1126891415|0,r+=(u^((i=(i<<10|i>>>22)+u|0)|~n))+t[14]-1416354905|0,n+=(i^((r=(r<<15|r>>>17)+i|0)|~u))+t[5]-57434055|0,u+=(r^((n=(n<<21|n>>>11)+r|0)|~i))+t[12]+1700485571|0,i+=(n^((u=(u<<6|u>>>26)+n|0)|~r))+t[3]-1894986606|0,r+=(u^((i=(i<<10|i>>>22)+u|0)|~n))+t[10]-1051523|0,n+=(i^((r=(r<<15|r>>>17)+i|0)|~u))+t[1]-2054922799|0,u+=(r^((n=(n<<21|n>>>11)+r|0)|~i))+t[8]+1873313359|0,i+=(n^((u=(u<<6|u>>>26)+n|0)|~r))+t[15]-30611744|0,r+=(u^((i=(i<<10|i>>>22)+u|0)|~n))+t[6]-1560198380|0,n+=(i^((r=(r<<15|r>>>17)+i|0)|~u))+t[13]+1309151649|0,u+=(r^((n=(n<<21|n>>>11)+r|0)|~i))+t[4]-145523070|0,i+=(n^((u=(u<<6|u>>>26)+n|0)|~r))+t[11]-1120210379|0,r+=(u^((i=(i<<10|i>>>22)+u|0)|~n))+t[2]+718787259|0,n=((n+=(i^((r=(r<<15|r>>>17)+i|0)|~u))+t[9]-343485551|0)<<21|n>>>11)+r|0,e[0]=u+e[0]|0,e[1]=n+e[1]|0,e[2]=r+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,u=[];for(t=0;t<64;t+=4)u[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return u}function r(e){var t,u=[];for(t=0;t<64;t+=4)u[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return u}function i(e){var t,r,i,o,a,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)u(l,n(e.substring(t-64,t)));for(e=e.substring(t-64),r=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(u(l,i),t=0;t<16;t+=1)i[t]=0;return o=(o=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),s=parseInt(o[1],16)||0,i[14]=a,i[15]=s,u(l,i),l}function o(e){var u,n="";for(u=0;u<4;u+=1)n+=t[e>>8*u+4&15]+t[e>>8*u&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,u=[],n=e.length;for(t=0;t<n-1;t+=2)u.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,u)}function l(){this.reset()}return a(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(u,n){var r,i,o,a,s=this.byteLength,c=t(u,s),l=s;return n!==e&&(l=t(n,s)),c>l?new ArrayBuffer(0):(r=l-c,i=new ArrayBuffer(r),o=new Uint8Array(i),a=new Uint8Array(this,c,r),o.set(a),i)}}(),l.prototype.append=function(e){return this.appendBinary(s(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)u(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,u,n=this._buff,r=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(i,r),u=a(this._hash),e&&(u=c(u)),this.reset(),u},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var n,r,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(u(this._hash,e),o=0;o<16;o+=1)e[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=r,e[15]=i,u(this._hash,e)},l.hash=function(e,t){return l.hashBinary(s(e),t)},l.hashBinary=function(e,t){var u=a(i(e));return t?c(u):u},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,n,i,o,a,s=(n=this._buff.buffer,i=e,o=!0,(a=new Uint8Array(n.byteLength+i.byteLength)).set(new Uint8Array(n)),a.set(new Uint8Array(i),n.byteLength),o?a:a.buffer),c=s.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)u(this._hash,r(s.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(s.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,u,n=this._buff,r=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)i[t>>2]|=n[t]<<(t%4<<3);return this._finish(i,r),u=a(this._hash),e&&(u=c(u)),this.reset(),u},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var u,n=e.length,r=new ArrayBuffer(n),i=new Uint8Array(r);for(u=0;u<n;u+=1)i[u]=e.charCodeAt(u);return t?i:r}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var n=a(function(e){var t,n,i,o,a,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)u(l,r(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(u(l,i),t=0;t<16;t+=1)i[t]=0;return o=(o=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),s=parseInt(o[1],16)||0,i[14]=a,i[15]=s,u(l,i),l}(new Uint8Array(e)));return t?c(n):n},l}()},function(e,t){function u(t,n){return e.exports=u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(t,n)}e.exports=u},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,u){"use strict";u.d(t,"a",function(){return n});class n{constructor(e){this.message=e}}},function(e,t,u){"use strict";(function(e){var n=u(25),r=u.n(n),i=u(9),o=u.n(i),a=u(8),s=u.n(a),c=u(6),l=u(7),f=u.n(l),D=u(19),d=u.n(D),h=u(20),p=u.n(h),v=u(14),F=u.n(v),C=u(21),A=u.n(C),E="function"==typeof Promise?Promise:r.a;function g(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),u=new Uint8Array(t),n=new Uint8Array(e);return u.set(n),t}(e);var t=e.size,u=e.type;return"function"==typeof e.slice?e.slice(0,t,u):e.webkitSlice(0,t,u)}var y,m,B=Function.prototype.toString,b=B.call(Object);function _(e){var t,u,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],u=0,n=e.length;u<n;u++)t[u]=_(e[u]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return g(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var u=t.constructor;return"function"==typeof u&&u instanceof u&&B.call(u)==b}(e))return e;for(u in t={},e)if(Object.prototype.hasOwnProperty.call(e,u)){var r=_(e[u]);void 0!==r&&(t[u]=r)}return t}function w(e){var t=!1;return o()(function(u){if(t)throw new Error("once called more than once");t=!0,e.apply(this,u)})}function x(e){return o()(function(t){t=_(t);var u=this,n="function"==typeof t[t.length-1]&&t.pop(),r=new E(function(n,r){var i;try{var o=w(function(e,t){e?r(e):n(t)});t.push(o),(i=e.apply(u,t))&&"function"==typeof i.then&&n(i)}catch(e){r(e)}});return n&&r.then(function(e){n(null,e)},n),r})}function k(e,t){return x(o()(function(u){if(this._closed)return E.reject(new Error("database is closed"));if(this._destroyed)return E.reject(new Error("database is destroyed"));var n=this;return function(e,t,u){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],r=0;r<u.length-1;r++)n.push(u[r]);e.constructor.emit("debug",n);var i=u[u.length-1];u[u.length-1]=function(u,n){var r=["api",e.name,t];r=r.concat(u?["error",u]:["success",n]),e.constructor.emit("debug",r),i(u,n)}}}(n,e,u),this.taskqueue.isReady?t.apply(this,u):new E(function(t,r){n.taskqueue.addTask(function(i){i?r(i):t(n[e].apply(n,u))})})}))}function S(e){return"$"+e}function q(e){return e.substring(1)}function O(){this._store={}}function T(e){if(this._store=new O,e&&Array.isArray(e))for(var t=0,u=e.length;t<u;t++)this.add(e[t])}function j(e,t){for(var u={},n=0,r=t.length;n<r;n++){var i=t[n];i in e&&(u[i]=e[i])}return u}O.prototype.get=function(e){var t=S(e);return this._store[t]},O.prototype.set=function(e,t){var u=S(e);return this._store[u]=t,!0},O.prototype.has=function(e){return S(e)in this._store},O.prototype.delete=function(e){var t=S(e),u=t in this._store;return delete this._store[t],u},O.prototype.forEach=function(e){for(var t=Object.keys(this._store),u=0,n=t.length;u<n;u++){var r=t[u];e(this._store[r],r=q(r))}},Object.defineProperty(O.prototype,"size",{get:function(){return Object.keys(this._store).length}}),T.prototype.add=function(e){return this._store.set(e,!0)},T.prototype.has=function(e){return this._store.has(e)},T.prototype.forEach=function(e){this._store.forEach(function(t,u){e(u)})},Object.defineProperty(T.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(y=T,m=O):(y=Set,m=Map);var L,R=6;function I(e){return e}function N(e){return[{ok:e}]}function P(e,t,u){var n=t.docs,r=new m;n.forEach(function(e){r.has(e.id)?r.get(e.id).push(e):r.set(e.id,[e])});var i=r.size,o=0,a=new Array(i);function s(){var e;++o===i&&(e=[],a.forEach(function(t){t.docs.forEach(function(u){e.push({id:t.id,docs:[u]})})}),u(null,{results:e}))}var c=[];r.forEach(function(e,t){c.push(t)});var l=0;function f(){if(!(l>=c.length)){var u=Math.min(l+R,c.length),n=c.slice(l,u);!function(u,n){u.forEach(function(u,i){var o=n+i,c=r.get(u),l=j(c[0],["atts_since","attachments"]);l.open_revs=c.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(I);var D=I;0===l.open_revs.length&&(delete l.open_revs,D=N),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(u,l,function(e,t){var n,r,i;n=e?[{error:e}]:D(t),r=u,i=n,a[o]={id:r,docs:i},s(),f()})})}(n,l),l+=n.length}}f()}function M(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}if(M())L=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),L=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){L=!1}function U(){return L}function $(){var e;c.EventEmitter.call(this),this._listeners={},e=this,M()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):U()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function H(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function W(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function K(e,t){H("info","The above "+e+" is totally normal. "+t)}f()($,c.EventEmitter),$.prototype.addListener=function(e,t,u,n){if(!this._listeners[t]){var r=this,i=!1;this._listeners[t]=o,this.on(e,o)}function o(){if(r._listeners[t])if(i)i="waiting";else{i=!0;var e=j(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);u.changes(e).on("change",function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))}).on("complete",function(){"waiting"===i&&s()(o),i=!1}).on("error",function(){i=!1})}}},$.prototype.removeListener=function(e,t){t in this._listeners&&(c.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},$.prototype.notifyLocalWindows=function(e){M()?chrome.storage.local.set({dbName:e}):U()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},$.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var G="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),u=1;u<arguments.length;u++){var n=arguments[u];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function V(e,t,u){Error.call(this,u),this.status=e,this.name=t,this.message=u,this.error=!0}f()(V,Error),V.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new V(401,"unauthorized","Name or password is incorrect.");var z=new V(400,"bad_request","Missing JSON list of 'docs'"),X=new V(404,"not_found","missing"),J=new V(409,"conflict","Document update conflict"),Q=new V(400,"bad_request","_id field must contain a string"),Y=new V(412,"missing_id","_id is required for puts"),Z=new V(400,"bad_request","Only reserved document ids may start with underscore."),ee=(new V(412,"precondition_failed","Database not open"),new V(500,"unknown_error","Database encountered an unknown error")),te=new V(500,"badarg","Some query argument is invalid"),ue=(new V(400,"invalid_request","Request was invalid"),new V(400,"query_parse_error","Some query parameter is invalid")),ne=new V(500,"doc_validation","Bad special document member"),re=new V(400,"bad_request","Something wrong with the request"),ie=new V(400,"bad_request","Document must be a JSON object"),oe=(new V(404,"not_found","Database not found"),new V(500,"indexed_db_went_bad","unknown")),ae=new V(500,"web_sql_went_bad","unknown"),se=(new V(500,"levelDB_went_went_bad","unknown"),new V(403,"forbidden","Forbidden by design doc validate_doc_update function"),new V(400,"bad_request","Invalid rev format")),ce=(new V(412,"file_exists","The database could not be created, the file already exists."),new V(412,"missing_stub","A pre-existing attachment stub wasn't found"));new V(413,"invalid_url","Provided URL is invalid");function le(e,t){function u(t){for(var u in e)"function"!=typeof e[u]&&(this[u]=e[u]);void 0!==t&&(this.reason=t)}return u.prototype=V.prototype,new u(t)}function fe(e){if("object"!=typeof e){var t=e;(e=ee).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function De(e){var t={},u=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var r=u&&function(e,t,u){try{return!e(t,u)}catch(e){var n="Filter function threw: "+e.toString();return le(re,n)}}(e.filter,n.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var i in n.doc._attachments)n.doc._attachments.hasOwnProperty(i)&&(n.doc._attachments[i].stub=!0)}else delete n.doc;return!0}}function de(e){for(var t=[],u=0,n=e.length;u<n;u++)t=t.concat(e[u]);return t}function he(e){var t;if(e?"string"!=typeof e?t=le(Q):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=le(Z)):t=le(Y),t)throw t}function pe(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(H("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ve(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function Fe(e){var t=ve(e);return t?t.join("/"):null}var Ce=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Ae="queryKey",Ee=/(?:^|&)([^&=]*)=?([^&]*)/g,ge=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function ye(e){for(var t=ge.exec(e),u={},n=14;n--;){var r=Ce[n],i=t[n]||"",o=-1!==["user","password"].indexOf(r);u[r]=o?decodeURIComponent(i):i}return u[Ae]={},u[Ce[12]].replace(Ee,function(e,t,n){t&&(u[Ae][t]=n)}),u}function me(e,t){var u=[],n=[];for(var r in t)t.hasOwnProperty(r)&&(u.push(r),n.push(t[r]));return u.push(e),Function.apply(null,u).apply(null,n)}function Be(e,t,u){return new E(function(n,r){e.get(t,function(i,o){if(i){if(404!==i.status)return r(i);o={}}var a=o._rev,s=u(o);if(!s)return n({updated:!1,rev:a});s._id=t,s._rev=a,n(function(e,t,u){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(n){if(409!==n.status)throw n;return Be(e,t._id,u)})}(e,s,u))})})}function be(){return d.a.v4().replace(/-/g,"").toLowerCase()}var _e=d.a.v4;function we(e){for(var t,u,n,r,i=e.rev_tree.slice();r=i.pop();){var o=r.ids,a=o[2],s=r.pos;if(a.length)for(var c=0,l=a.length;c<l;c++)i.push({pos:s+1,ids:a[c]});else{var f=!!o[1].deleted,D=o[0];t&&!(n!==f?n:u!==s?u<s:t<D)||(t=D,u=s,n=f)}}return u+"-"+t}function xe(e,t){for(var u,n=e.slice();u=n.pop();)for(var r=u.pos,i=u.ids,o=i[2],a=t(0===o.length,r,i[0],u.ctx,i[1]),s=0,c=o.length;s<c;s++)n.push({pos:r+1,ids:o[s],ctx:a})}function ke(e,t){return e.pos-t.pos}function Se(e){var t=[];xe(e,function(e,u,n,r,i){e&&t.push({rev:u+"-"+n,pos:u,opts:i})}),t.sort(ke).reverse();for(var u=0,n=t.length;u<n;u++)delete t[u].pos;return t}function qe(e){for(var t=we(e),u=Se(e.rev_tree),n=[],r=0,i=u.length;r<i;r++){var o=u[r];o.rev===t||o.opts.deleted||n.push(o.rev)}return n}function Oe(e){var t=[];return xe(e.rev_tree,function(e,u,n,r,i){"available"!==i.status||e||(t.push(u+"-"+n),i.status="missing")}),t}function Te(e){for(var t,u=[],n=e.slice();t=n.pop();){var r=t.pos,i=t.ids,o=i[0],a=i[1],s=i[2],c=0===s.length,l=t.history?t.history.slice():[];l.push({id:o,opts:a}),c&&u.push({pos:r+1-l.length,ids:l});for(var f=0,D=s.length;f<D;f++)n.push({pos:r+1,ids:s[f],history:l})}return u.reverse()}function je(e,t){return e.pos-t.pos}function Le(e,t,u){var n=function(e,t,u){for(var n,r=0,i=e.length;r<i;)u(e[n=r+i>>>1],t)<0?r=n+1:i=n;return r}(e,t,u);e.splice(n,0,t)}function Re(e,t){for(var u,n,r=t,i=e.length;r<i;r++){var o=e[r],a=[o.id,o.opts,[]];n?(n[2].push(a),n=a):u=n=a}return u}function Ie(e,t){return e[0]<t[0]?-1:1}function Ne(e,t){for(var u=[{tree1:e,tree2:t}],n=!1;u.length>0;){var r=u.pop(),i=r.tree1,o=r.tree2;(i[1].status||o[1].status)&&(i[1].status="available"===i[1].status||"available"===o[1].status?"available":"missing");for(var a=0;a<o[2].length;a++)if(i[2][0]){for(var s=!1,c=0;c<i[2].length;c++)i[2][c][0]===o[2][a][0]&&(u.push({tree1:i[2][c],tree2:o[2][a]}),s=!0);s||(n="new_branch",Le(i[2],o[2][a],Ie))}else n="new_leaf",i[2][0]=o[2][a]}return{conflicts:n,tree:e}}function Pe(e,t,u){var n,r=[],i=!1,o=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,s=e.length;a<s;a++){var c=e[a];if(c.pos===t.pos&&c.ids[0]===t.ids[0])n=Ne(c.ids,t.ids),r.push({pos:c.pos,ids:n.tree}),i=i||n.conflicts,o=!0;else if(!0!==u){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,D=f.pos-l.pos,d=[],h=[];for(h.push({ids:l.ids,diff:D,parent:null,parentIdx:null});h.length>0;){var p=h.pop();if(0!==p.diff)for(var v=p.ids[2],F=0,C=v.length;F<C;F++)h.push({ids:v[F],diff:p.diff-1,parent:p.ids,parentIdx:F});else p.ids[0]===f.ids[0]&&d.push(p)}var A=d[0];A?(n=Ne(A.ids,f.ids),A.parent[2][A.parentIdx]=n.tree,r.push({pos:l.pos,ids:l.ids}),i=i||n.conflicts,o=!0):r.push(c)}else r.push(c)}return o||r.push(t),r.sort(je),{tree:r,conflicts:i||"internal_node"}}function Me(e,t,u){var n=Pe(e,t),r=function(e,t){for(var u,n,r=Te(e),i=0,o=r.length;i<o;i++){var a,s=r[i],c=s.ids;if(c.length>t){u||(u={});var l=c.length-t;a={pos:s.pos+l,ids:Re(c,l)};for(var f=0;f<l;f++){var D=s.pos+f+"-"+c[f].id;u[D]=!0}}else a={pos:s.pos,ids:Re(c,0)};n=n?Pe(n,a,!0).tree:[a]}return u&&xe(n,function(e,t,n){delete u[t+"-"+n]}),{tree:n,revs:u?Object.keys(u):[]}}(n.tree,u);return{tree:r.tree,stemmedRevs:r.revs,conflicts:n.conflicts}}function Ue(e){return e.ids}function $e(e,t){t||(t=we(e));for(var u,n=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(Ue);u=r.pop();){if(u[0]===n)return!!u[1].deleted;r=r.concat(u[2])}}function He(e){return/^_local/.test(e)}function We(e,t){for(var u,n=t.rev_tree.slice();u=n.pop();){var r=u.pos,i=u.ids,o=i[0],a=i[1],s=i[2],c=0===s.length,l=u.history?u.history.slice():[];if(l.push({id:o,pos:r,opts:a}),c)for(var f=0,D=l.length;f<D;f++){var d=l[f];if(d.pos+"-"+d.id===e)return r+"-"+o}for(var h=0,p=s.length;h<p;h++)n.push({pos:r+1,ids:s[h],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function Ke(e,t,u){c.EventEmitter.call(this);var n=this;this.db=e;var r=(t=t?_(t):{}).complete=w(function(t,u){var r,o;t?(o="error",("listenerCount"in(r=n)?r.listenerCount(o):c.EventEmitter.listenerCount(r,o))>0&&n.emit("error",t)):n.emit("complete",u),n.removeAllListeners(),e.removeListener("destroyed",i)});function i(){n.cancel()}u&&(n.on("complete",function(e){u(null,e)}),n.on("error",u)),e.once("destroyed",i),t.onChange=function(e,t,u){n.isCancelled||function(e,t,u,n){try{e.emit("change",t,u,n)}catch(e){H("error",'Error in .on("change", function):',e)}}(n,e,t,u)};var o=new E(function(e,u){t.complete=function(t,n){t?u(t):e(n)}});n.once("cancel",function(){e.removeListener("destroyed",i),t.complete(null,{status:"cancelled"})}),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then(function(e){r(null,e)},r),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):n.isCancelled?n.emit("cancel"):n.validateChanges(t)})}function Ge(e,t,u){var n=[{rev:e._rev}];"all_docs"===u.style&&(n=Se(t.rev_tree).map(function(e){return{rev:e.rev}}));var r={id:t.id,changes:n,doc:e};return $e(t,e._rev)&&(r.deleted=!0),u.conflicts&&(r.doc._conflicts=qe(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Ve(e,t){return e<t?-1:e>t?1:0}function ze(e,t){return function(u,n){u||n[0]&&n[0].error?((u=u||n[0]).docId=t,e(u)):e(null,n.length?n[0]:n)}}function Xe(e,t){var u=Ve(e._id,t._id);return 0!==u?u:Ve(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Je(){c.EventEmitter.call(this)}function Qe(){this.isReady=!1,this.failed=!1,this.queue=[]}function Ye(e,t){if(!(this instanceof Ye))return new Ye(e,t);var u=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),this.__opts=t=_(t),u.auto_compaction=t.auto_compaction,u.prefix=Ye.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var n=function(e,t){var u=e.match(/([a-z-]*):\/\/(.*)/);if(u)return{name:/https?/.test(u[1])?u[1]+"://"+u[2]:u[2],adapter:u[1]};var n=Ye.adapters,r=Ye.preferredAdapters,i=Ye.prefix,o=t.adapter;if(!o)for(var a=0;a<r.length&&"idb"===(o=r[a])&&"websql"in n&&U()&&localStorage["_pouch__websqldb_"+i+e];++a)H("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var s=n[o];return{name:s&&"use_prefix"in s&&!s.use_prefix?e:i+e,adapter:o}}((t.prefix||"")+e,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,u.name=e,u._adapter=t.adapter,Ye.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Ye.adapters[t.adapter]||!Ye.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Je.call(u),u.taskqueue=new Qe,u.adapter=t.adapter,Ye.adapters[t.adapter].call(u,t,function(e){if(e)return u.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",u),t||e.constructor.emit("destroyed",e.name)}function u(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",u),e.constructor.emit("ref",e)}(u),u.emit("created",u),Ye.emit("created",u.name),u.taskqueue.ready(u)})}f()(Ke,c.EventEmitter),Ke.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Ke.prototype.validateChanges=function(e){var t=e.complete,u=this;Ye._changesFilterPlugin?Ye._changesFilterPlugin.validate(e,function(n){if(n)return t(n);u.doChanges(e)}):u.doChanges(e)},Ke.prototype.doChanges=function(e){var t=this,u=e.complete;if("live"in(e=_(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ge,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(Ye._changesFilterPlugin){if(Ye._changesFilterPlugin.normalize(e),Ye._changesFilterPlugin.shouldFilter(this,e))return Ye._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&H("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=u;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){var r=t.cancel;t.cancel=o()(function(e){n.cancel(),r.apply(this,e)})}}else this.db.info().then(function(n){t.isCancelled?u(null,{status:"cancelled"}):(e.since=n.update_seq,t.doChanges(e))},u)},f()(Je,c.EventEmitter),Je.prototype.post=k("post",function(e,t,u){if("function"==typeof t&&(u=t,t={}),"object"!=typeof e||Array.isArray(e))return u(le(ie));this.bulkDocs({docs:[e]},t,ze(u,e._id))}),Je.prototype.put=k("put",function(e,t,u){if("function"==typeof t&&(u=t,t={}),"object"!=typeof e||Array.isArray(e))return u(le(ie));if(he(e._id),He(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,u):this._putLocal(e,u);var n,r,i,o,a=this;function s(u){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,u):a.bulkDocs({docs:[e]},t,ze(u,e._id))}t.force&&e._rev?(n=e._rev.split("-"),r=n[1],i=parseInt(n[0],10)+1,o=be(),e._revisions={start:i,ids:[o,r]},e._rev=i+"-"+o,t.new_edits=!1,s(function(t){var n=t?null:{ok:!0,id:e._id,rev:e._rev};u(t,n)})):s(u)}),Je.prototype.putAttachment=k("putAttachment",function(e,t,u,n,r){var i=this;function o(e){var u="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:n,revpos:++u},i.put(e)}return"function"==typeof r&&(r=n,n=u,u=null),void 0===r&&(r=n,n=u,u=null),r||H("warn","Attachment",t,"on document",e,"is missing content_type"),i.get(e).then(function(e){if(e._rev!==u)throw le(J);return o(e)},function(t){if(t.reason===X.message)return o({_id:e});throw t})}),Je.prototype.removeAttachment=k("removeAttachment",function(e,t,u,n){var r=this;r.get(e,function(e,i){if(e)n(e);else if(i._rev===u){if(!i._attachments)return n();delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,r.put(i,n)}else n(le(J))})}),Je.prototype.remove=k("remove",function(e,t,u,n){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof u&&(n=u,u={})):(r=e,"function"==typeof t?(n=t,u={}):(n=u,u=t)),(u=u||{}).was_delete=!0;var i={_id:r._id,_rev:r._rev||u.rev,_deleted:!0};if(He(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,n);this.bulkDocs({docs:[i]},u,ze(n,i._id))}),Je.prototype.revsDiff=k("revsDiff",function(e,t,u){"function"==typeof t&&(u=t,t={});var n=Object.keys(e);if(!n.length)return u(null,{});var r=0,i=new m;function o(e,t){i.has(e)||i.set(e,{missing:[]}),i.get(e).missing.push(t)}n.map(function(t){this._getRevisionTree(t,function(a,s){if(a&&404===a.status&&"missing"===a.message)i.set(t,{missing:e[t]});else{if(a)return u(a);!function(t,u){var n=e[t].slice(0);xe(u,function(e,u,r,i,a){var s=u+"-"+r,c=n.indexOf(s);-1!==c&&(n.splice(c,1),"available"!==a.status&&o(t,s))}),n.forEach(function(e){o(t,e)})}(t,s)}if(++r===n.length){var c={};return i.forEach(function(e,t){c[t]=e}),u(null,c)}})},this)}),Je.prototype.bulkGet=k("bulkGet",function(e,t){P(this,e,t)}),Je.prototype.compactDocument=k("compactDocument",function(e,t,u){var n=this;this._getRevisionTree(e,function(r,i){if(r)return u(r);var o=function(e){var t={},u=[];return xe(e,function(e,n,r,i){var o=n+"-"+r;return e&&(t[o]=0),void 0!==i&&u.push({from:i,to:o}),o}),u.reverse(),u.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}(i),a=[],s=[];Object.keys(o).forEach(function(e){o[e]>t&&a.push(e)}),xe(i,function(e,t,u,n,r){var i=t+"-"+u;"available"===r.status&&-1!==a.indexOf(i)&&s.push(i)}),n._doCompaction(e,s,u)})}),Je.prototype.compact=k("compact",function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var u=t._compactionQueue[0],n=u.opts,r=u.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(u){u&&u.last_seq&&(n.last_seq=u.last_seq),t._compact(n,function(u,n){u?r(u):r(null,n),s()(function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)})})})}(this)}),Je.prototype._compact=function(e,t){var u=this,n={return_docs:!1,last_seq:e.last_seq||0},r=[];u.changes(n).on("change",function(e){r.push(u.compactDocument(e.id,0))}).on("complete",function(e){var n=e.last_seq;E.all(r).then(function(){return Be(u,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},Je.prototype.get=k("get",function(e,t,u){if("function"==typeof t&&(u=t,t={}),"string"!=typeof e)return u(le(Q));if(He(e)&&"function"==typeof this._getLocal)return this._getLocal(e,u);var n=[],r=this;function i(){var i=[],o=n.length;if(!o)return u(null,i);n.forEach(function(n){r.get(e,{rev:n,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)i.push({missing:n});else{for(var r,a=0,s=i.length;a<s;a++)if(i[a].ok&&i[a].ok._rev===t._rev){r=!0;break}r||i.push({ok:t})}--o||u(null,i)})})}if(!t.open_revs)return this._get(e,t,function(n,i){if(n)return n.docId=e,u(n);var o=i.doc,a=i.metadata,s=i.ctx;if(t.conflicts){var c=qe(a);c.length&&(o._conflicts=c)}if($e(a,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var l=o._rev.split("-"),f=parseInt(l[0],10),D=l[1],d=Te(a.rev_tree),h=null,p=0;p<d.length;p++){var v=d[p],F=v.ids.map(function(e){return e.id}).indexOf(D);(F===f-1||!h&&-1!==F)&&(h=v)}var C=h.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,A=h.ids.length-C;if(h.ids.splice(C,A),h.ids.reverse(),t.revs&&(o._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map(function(e){return e.id})}),t.revs_info){var E=h.pos+h.ids.length;o._revs_info=h.ids.map(function(e){return{rev:--E+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var g=o._attachments,y=Object.keys(g).length;if(0===y)return u(null,o);Object.keys(g).forEach(function(e){this._getAttachment(o._id,e,g[e],{rev:o._rev,binary:t.binary,ctx:s},function(t,n){var r=o._attachments[e];r.data=n,delete r.stub,delete r.length,--y||u(null,o)})},r)}else{if(o._attachments)for(var m in o._attachments)o._attachments.hasOwnProperty(m)&&(o._attachments[m].stub=!0);u(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return u(e);n=Se(t).map(function(e){return e.rev}),i()});else{if(!Array.isArray(t.open_revs))return u(le(ee,"function_clause"));n=t.open_revs;for(var o=0;o<n.length;o++){var a=n[o];if("string"!=typeof a||!/^\d+-/.test(a))return u(le(se))}i()}}),Je.prototype.getAttachment=k("getAttachment",function(e,t,u,n){var r=this;u instanceof Function&&(n=u,u={}),this._get(e,u,function(i,o){return i?n(i):o.doc._attachments&&o.doc._attachments[t]?(u.ctx=o.ctx,u.binary=!0,void r._getAttachment(e,t,o.doc._attachments[t],u,n)):n(le(X))})}),Je.prototype.allDocs=k("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var u=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(u)return void t(le(ue,"Query parameter `"+u+"` is not compatible with multi-get"));if(!pe(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),Je.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new Ke(this,e,t)},Je.prototype.close=k("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Je.prototype.info=k("info",function(e){var t=this;this._info(function(u,n){if(u)return e(u);n.db_name=n.db_name||t.name,n.auto_compaction=!(!t.auto_compaction||pe(t)),n.adapter=t.adapter,e(null,n)})}),Je.prototype.id=k("id",function(e){return this._id(e)}),Je.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Je.prototype.bulkDocs=k("bulkDocs",function(e,t,u){if("function"==typeof t&&(u=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return u(le(z));for(var n=0;n<e.docs.length;++n)if("object"!=typeof e.docs[n]||Array.isArray(e.docs[n]))return u(le(ie));var r;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||H("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),r)return u(le(re,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||pe(i)||e.docs.sort(Xe),function(e){for(var t=0;t<e.length;t++){var u=e[t];if(u._deleted)delete u._attachments;else if(u._attachments)for(var n=Object.keys(u._attachments),r=0;r<n.length;r++){var i=n[r];u._attachments[i]=j(u._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var o=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,n){if(e)return u(e);if(t.new_edits||(n=n.filter(function(e){return e.error})),!pe(i))for(var r=0,a=n.length;r<a;r++)n[r].id=n[r].id||o[r];u(null,n)})}),Je.prototype.registerDependentDatabase=k("registerDependentDatabase",function(e,t){var u=new this.constructor(e,this.__opts);Be(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:u})}).catch(t)}),Je.prototype.destroy=k("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var u=this,n=!("use_prefix"in u)||u.use_prefix;function r(){u._destroy(e,function(e,n){if(e)return t(e);u._destroyed=!0,u.emit("destroyed"),t(null,n||{ok:!0})})}if(pe(u))return r();u.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):r();var o=i.dependentDbs,a=u.constructor,s=Object.keys(o).map(function(e){var t=n?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,u.__opts).destroy()});E.all(s).then(r,t)})}),Qe.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Qe.prototype.fail=function(e){this.failed=e,this.execute()},Qe.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Qe.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},f()(Ye,Je),Ye.adapters={},Ye.preferredAdapters=[],Ye.prefix="_pouch_";var Ze=new c.EventEmitter;!function(e){Object.keys(c.EventEmitter.prototype).forEach(function(t){"function"==typeof c.EventEmitter.prototype[t]&&(e[t]=Ze[t].bind(Ze))});var t=e._destructionListeners=new m;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var u=t.get(e.name),n=u.indexOf(e);n<0||(u.splice(n,1),u.length>1?t.set(e.name,u):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var u=t.get(e);t.delete(e),u.forEach(function(e){e.emit("destroyed",!0)})}})}(Ye),Ye.adapter=function(e,t,u){t.valid()&&(Ye.adapters[e]=t,u&&Ye.preferredAdapters.push(e))},Ye.plugin=function(e){if("function"==typeof e)e(Ye);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Ye.prototype[t]=e[t]})}return this.__defaults&&(Ye.__defaults=G({},this.__defaults)),Ye},Ye.defaults=function(e){function t(e,u){if(!(this instanceof t))return new t(e,u);u=u||{},e&&"object"==typeof e&&(e=(u=e).name,delete u.name),u=G({},t.__defaults,u),Ye.call(this,e,u)}return f()(t,Ye),t.preferredAdapters=Ye.preferredAdapters.slice(),Object.keys(Ye).forEach(function(e){e in t||(t[e]=Ye[e])}),t.__defaults=G({},this.__defaults,e),t};function et(e,t){for(var u=e,n=0,r=t.length;n<r;n++){if(!(u=u[t[n]]))break}return u}function tt(e){for(var t=[],u="",n=0,r=e.length;n<r;n++){var i=e[n];"."===i?n>0&&"\\"===e[n-1]?u=u.substring(0,u.length-1)+".":(t.push(u),u=""):u+=i}return t.push(u),t}var ut=["$or","$nor","$not"];function nt(e){return ut.indexOf(e)>-1}function rt(e){return Object.keys(e)[0]}function it(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(u){var n=e[u];if("object"!=typeof n&&(n={$eq:n}),nt(u))n instanceof Array?t[u]=n.map(function(e){return it([e])}):t[u]=it([n]);else{var r=t[u]=t[u]||{};Object.keys(n).forEach(function(e){var t=n[e];return"$gt"===e||"$gte"===e?function(e,t,u){if(void 0!==u.$eq)return;void 0!==u.$gte?"$gte"===e?t>u.$gte&&(u.$gte=t):t>=u.$gte&&(delete u.$gte,u.$gt=t):void 0!==u.$gt?"$gte"===e?t>u.$gt&&(delete u.$gt,u.$gte=t):t>u.$gt&&(u.$gt=t):u[e]=t}(e,t,r):"$lt"===e||"$lte"===e?function(e,t,u){if(void 0!==u.$eq)return;void 0!==u.$lte?"$lte"===e?t<u.$lte&&(u.$lte=t):t<=u.$lte&&(delete u.$lte,u.$lt=t):void 0!==u.$lt?"$lte"===e?t<u.$lt&&(delete u.$lt,u.$lte=t):t<u.$lt&&(u.$lt=t):u[e]=t}(e,t,r):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,r):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,r):void(r[e]=t)})}})}),t}var ot=-324,at=3,st="";function ct(e,t){if(e===t)return 0;e=lt(e),t=lt(t);var u=pt(e),n=pt(t);if(u-n!=0)return u-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var u=Math.min(e.length,t.length),n=0;n<u;n++){var r=ct(e[n],t[n]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var u=Object.keys(e),n=Object.keys(t),r=Math.min(u.length,n.length),i=0;i<r;i++){var o=ct(u[i],n[i]);if(0!==o)return o;if(0!==(o=ct(e[u[i]],t[n[i]])))return o}return u.length===n.length?0:u.length>n.length?1:-1}(e,t)}function lt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var u=e.length;e=new Array(u);for(var n=0;n<u;n++)e[n]=lt(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(t.hasOwnProperty(r)){var i=t[r];void 0!==i&&(e[r]=lt(i))}}}return e}function ft(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),u=parseInt(t[1],10),n=e<0,r=n?"0":"2",i=(o=((n?-u:u)-ot).toString(),a="0",s=at,function(e,t,u){for(var n="",r=u-e.length;n.length<r;)n+=t;return n}(o,a,s)+o);var o,a,s;r+=st+i;var c=Math.abs(parseFloat(t[0]));n&&(c=10-c);var l=c.toFixed(20);return l=l.replace(/\.?0+$/,""),r+=st+l}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),u=t?e:Object.keys(e),n=-1,r=u.length,i="";if(t)for(;++n<r;)i+=Dt(u[n]);else for(;++n<r;){var o=u[n];i+=Dt(o)+Dt(e[o])}return i}return""}function Dt(e){return pt(e=lt(e))+st+ft(e)+"\0"}function dt(e,t){var u,n=t;if("1"===e[t])u=0,t++;else{var r="0"===e[t];t++;var i="",o=e.substring(t,t+at),a=parseInt(o,10)+ot;for(r&&(a=-a),t+=at;;){var s=e[t];if("\0"===s)break;i+=s,t++}u=1===(i=i.split(".")).length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),r&&(u-=10),0!==a&&(u=parseFloat(u+"e"+a))}return{num:u,length:t-n}}function ht(e,t){var u=e.pop();if(t.length){var n=t[t.length-1];u===n.element&&(t.pop(),n=t[t.length-1]);var r=n.element,i=n.index;if(Array.isArray(r))r.push(u);else if(i===e.length-2){r[e.pop()]=u}else e.push(u)}}function pt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function vt(e,t,u){if(e=e.filter(function(e){return Ft(e.doc,t.selector,u)}),t.sort){var n=function(e){function t(t){return e.map(function(e){var u=tt(rt(e));return et(t,u)})}return function(e,u){var n,r,i=ct(t(e.doc),t(u.doc));return 0!==i?i:(n=e.doc._id,r=u.doc._id,n<r?-1:n>r?1:0)}}(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[rt(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var i=t.skip||0,o=("limit"in t?t.limit:e.length)+i;e=e.slice(i,o)}return e}function Ft(e,t,u){return u.every(function(u){var n=t[u],r=tt(u),i=et(e,r);return nt(u)?function(e,t,u){if("$or"===e)return t.some(function(e){return Ft(u,e,Object.keys(e))});if("$not"===e)return!Ft(u,t,Object.keys(t));return!t.find(function(e){return Ft(u,e,Object.keys(e))})}(u,n,e):Ct(n,e,r,i)})}function Ct(e,t,u,n){return!e||Object.keys(e).every(function(r){var i=e[r];return function(e,t,u,n,r){if(!yt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return yt[e](t,u,n,r)}(r,t,i,u,n)})}function At(e){return null!=e}function Et(e){return void 0!==e}function gt(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}var yt={$elemMatch:function(e,t,u,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(e){return Ft(e,t,Object.keys(t))}):n.some(function(n){return Ct(t,e,u,n)})))},$allMatch:function(e,t,u,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.every(function(e){return Ft(e,t,Object.keys(t))}):n.every(function(n){return Ct(t,e,u,n)})))},$eq:function(e,t,u,n){return Et(n)&&0===ct(n,t)},$gte:function(e,t,u,n){return Et(n)&&ct(n,t)>=0},$gt:function(e,t,u,n){return Et(n)&&ct(n,t)>0},$lte:function(e,t,u,n){return Et(n)&&ct(n,t)<=0},$lt:function(e,t,u,n){return Et(n)&&ct(n,t)<0},$exists:function(e,t,u,n){return t?Et(n):!Et(n)},$mod:function(e,t,u,n){return At(n)&&function(e,t){var u=t[0],n=t[1];if(0===u)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(u,10)!==u)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%u===n}(n,t)},$ne:function(e,t,u,n){return t.every(function(e){return 0!==ct(n,e)})},$in:function(e,t,u,n){return At(n)&&gt(n,t)},$nin:function(e,t,u,n){return At(n)&&!gt(n,t)},$size:function(e,t,u,n){return At(n)&&function(e,t){return e.length===t}(n,t)},$all:function(e,t,u,n){return Array.isArray(n)&&function(e,t){return t.every(function(t){return e.indexOf(t)>-1})}(n,t)},$regex:function(e,t,u,n){return At(n)&&function(e,t){return new RegExp(t).test(e)}(n,t)},$type:function(e,t,u,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(n,t)}};function mt(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var u=vt([{doc:e}],{selector:t=function(e){var t=_(e),u=!1;"$and"in t&&(t=it(t.$and),u=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),u=0;u<t.length;u++){var n=t[u],r=e[n];"object"==typeof r&&null!==r||(e[n]={$eq:r})}})}),"$not"in t&&(t.$not=it([t.$not]));for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];"object"!=typeof o||null===o?o={$eq:o}:"$ne"in o&&!u&&(o.$ne=[o.$ne]),t[i]=o}return t}(t)},Object.keys(t));return u&&1===u.length}function Bt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var u="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+u+'"'))}t()}function bt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=Fe(e.view):e.filter=Fe(e.filter))}function _t(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!pe(e.db)}function wt(e,t){var u=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var n=le(re,"`view` filter parameter not found or invalid.");return u(n)}var r=ve(t.view);e.db.get("_design/"+r[0],function(n,i){if(e.isCancelled)return u(null,{status:"cancelled"});if(n)return u(fe(n));var o=i&&i.views&&i.views[r[1]]&&i.views[r[1]].map;if(!o)return u(le(X,i.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=me(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+o+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return mt(e,t.selector)},e.doChanges(t);else{var i=ve(t.filter);e.db.get("_design/"+i[0],function(n,r){if(e.isCancelled)return u(null,{status:"cancelled"});if(n)return u(fe(n));var o=r&&r.filters&&r.filters[i[1]];if(!o)return u(le(X,r&&r.filters?"missing json key: "+i[1]:"missing json key: filters"));t.filter=me('"use strict";\nreturn '+o+";",{}),e.doChanges(t)})}}function xt(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}Ye.plugin(function(e){e.debug=p.a;var t={};e.on("debug",function(e){var u=e[0],n=e.slice(1);t[u]||(t[u]=p()("pouchdb:"+u)),t[u].apply(null,n)})}),Ye.plugin(function(e){e._changesFilterPlugin={validate:Bt,normalize:bt,shouldFilter:_t,filter:wt}}),Ye.version="6.4.3";var kt=xt(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),St=xt(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function qt(e){if(!/^\d+-./.test(e))return le(se);var t=e.indexOf("-"),u=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(u,10),id:n}}function Ot(e,t){var u,n,r,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=_e()),n=be(),e._rev){if((r=qt(e._rev)).error)return r;e._rev_tree=[{pos:r.prefix,ids:[r.id,{status:"missing"},[[n,i,[]]]]}],u=r.prefix+1}else e._rev_tree=[{pos:1,ids:[n,i,[]]}],u=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var u=e.start-e.ids.length+1,n=e.ids,r=[n[0],t,[]],i=1,o=n.length;i<o;i++)r=[n[i],{status:"missing"},[r]];return[{pos:u,ids:r}]}(e._revisions,i),u=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if((r=qt(e._rev)).error)return r;u=r.prefix,n=r.id,e._rev_tree=[{pos:u,ids:[n,i,[]]}]}he(e._id),e._rev=u+"-"+n;var o={metadata:{},data:{}};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s="_"===a[0];if(s&&!kt[a]){var c=le(ne,a);throw c.message=ne.message+": "+a,c}s&&!St[a]?o.metadata[a.slice(1)]=e[a]:o.data[a]=e[a]}return o}var Tt=function(e){return atob(e)},jt=function(e){return btoa(e)};function Lt(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var u=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)u.append(e[n]);return u.getBlob(t.type)}}function Rt(e){for(var t=e.length,u=new ArrayBuffer(t),n=new Uint8Array(u),r=0;r<t;r++)n[r]=e.charCodeAt(r);return u}function It(e,t){return Lt([Rt(e)],{type:t})}function Nt(e,t){return It(Tt(e),t)}function Pt(e){for(var t="",u=new Uint8Array(e),n=u.byteLength,r=0;r<n;r++)t+=String.fromCharCode(u[r]);return t}function Mt(e,t){if("undefined"==typeof FileReader)return t(Pt((new FileReaderSync).readAsArrayBuffer(e)));var u=new FileReader,n="function"==typeof u.readAsBinaryString;u.onloadend=function(e){var u=e.target.result||"";if(n)return t(u);t(Pt(u))},n?u.readAsBinaryString(e):u.readAsArrayBuffer(e)}function Ut(e,t){Mt(e,function(e){t(e)})}function $t(e,t){Ut(e,function(e){t(jt(e))})}function Ht(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var u=new FileReader;u.onloadend=function(e){var u=e.target.result||new ArrayBuffer(0);t(u)},u.readAsArrayBuffer(e)}var Wt=e.setImmediate||e.setTimeout,Kt=32768;function Gt(e,t,u,n,r){(u>0||n<t.size)&&(t=function(e,t,u){return e.webkitSlice?e.webkitSlice(t,u):e.slice(t,u)}(t,u,n)),Ht(t,function(t){e.append(t),r()})}function Vt(e,t,u,n,r){(u>0||n<t.length)&&(t=t.substring(u,n)),e.appendBinary(t),r()}function zt(e,t){var u="string"==typeof e,n=u?e.length:e.size,r=Math.min(Kt,n),i=Math.ceil(n/r),o=0,a=u?new F.a:new F.a.ArrayBuffer,s=u?Vt:Gt;function c(){Wt(f)}function l(){var e=function(e){return jt(e)}(a.end(!0));t(e),a.destroy()}function f(){var t=o*r,u=t+r;s(a,e,t,u,++o<i?c:l)}f()}function Xt(e,t,u){var n=function(e){try{return Tt(e)}catch(e){return{error:le(te,"Attachment is not a valid base64 string")}}}(e.data);if(n.error)return u(n.error);e.length=n.length,e.data="blob"===t?It(n,e.content_type):"base64"===t?jt(n):n,zt(n,function(t){e.digest="md5-"+t,u()})}function Jt(e,t,u){if(e.stub)return u();"string"==typeof e.data?Xt(e,t,u):function(e,t,u){zt(e.data,function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,"binary"===t?Ut(e.data,function(t){e.data=t,u()}):"base64"===t?$t(e.data,function(t){e.data=t,u()}):u()})}(e,t,u)}function Qt(e,t,u){if(!e.length)return u();var n,r=0;function i(){r++,e.length===r&&(n?u(n):u())}e.forEach(function(e){var u=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!u.length)return i();function o(e){n=e,++r===u.length&&i()}for(var a in e.data._attachments)e.data._attachments.hasOwnProperty(a)&&Jt(e.data._attachments[a],t,o)})}function Yt(e,t,u,n,r,i,o,a){if(function(e,t){for(var u,n=e.slice(),r=t.split("-"),i=parseInt(r[0],10),o=r[1];u=n.pop();){if(u.pos===i&&u.ids[0]===o)return!0;for(var a=u.ids[2],s=0,c=a.length;s<c;s++)n.push({pos:u.pos+1,ids:a[s]})}return!1}(t.rev_tree,u.metadata.rev))return n[r]=u,i();var s=t.winningRev||we(t),c="deleted"in t?t.deleted:$e(t,s),l="deleted"in u.metadata?u.metadata.deleted:$e(u.metadata),f=/^1-/.test(u.metadata.rev);if(c&&!l&&a&&f){var D=u.data;D._rev=s,D._id=u.metadata.id,u=Ot(D,a)}var d=Me(t.rev_tree,u.metadata.rev_tree[0],e);if(a&&(c&&l&&"new_leaf"!==d.conflicts||!c&&"new_leaf"!==d.conflicts||c&&!l&&"new_branch"===d.conflicts)){var h=le(J);return n[r]=h,i()}var p=u.metadata.rev;u.metadata.rev_tree=d.tree,u.stemmedRevs=d.stemmedRevs||[],t.rev_map&&(u.metadata.rev_map=t.rev_map);var v=we(u.metadata),F=$e(u.metadata,v),C=c===F?0:c<F?-1:1;o(u,v,F,p===v?F:$e(u.metadata,p),!0,C,r,i)}function Zt(e,t,u,n,r,i,o,a,s){e=e||1e3;var c=a.new_edits,l=new m,f=0,D=t.length;function d(){++f===D&&s&&s()}t.forEach(function(e,t){if(e._id&&He(e._id)){var n=e._deleted?"_removeLocal":"_putLocal";u[n](e,{ctx:r},function(e,u){i[t]=e||u,d()})}else{var o=e.metadata.id;l.has(o)?(D--,l.get(o).push([e,t])):l.set(o,[[e,t]])}}),l.forEach(function(t,u){var r=0;function s(){++r<t.length?l():d()}function l(){var l=t[r],f=l[0],D=l[1];if(n.has(u))Yt(e,n.get(u),f,i,D,s,o,c);else{var d=Me([],f.metadata.rev_tree[0],e);f.metadata.rev_tree=d.tree,f.stemmedRevs=d.stemmedRevs||[],function(e,t,u){var n=we(e.metadata),r=$e(e.metadata,n);if("was_delete"in a&&r)return i[t]=le(X,"deleted"),u();if(c&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var s=le(J);return i[t]=s,u()}o(e,n,r,r,!1,r?0:1,t,u)}(f,D,s)}}l()})}var eu=5,tu="document-store",uu="by-sequence",nu="attach-store",ru="attach-seq-store",iu="meta-store",ou="local-store",au="detect-blob-support";function su(e){try{return JSON.parse(e)}catch(t){return A.a.parse(e)}}function cu(e){try{return JSON.stringify(e)}catch(t){return A.a.stringify(e)}}function lu(e){return function(t){var u="unknown_error";t.target&&t.target.error&&(u=t.target.error.name||t.target.error.message),e(le(oe,u,t.type))}}function fu(e,t,u){return{data:cu(e),winningRev:t,deletedOrLocal:u?"1":"0",seq:e.seq,id:e.id}}function Du(e){if(!e)return null;var t=su(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function du(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function hu(e,t,u,n){u?n(e?"string"!=typeof e?e:Nt(e,t):Lt([""],{type:t})):e?"string"!=typeof e?Mt(e,function(e){n(jt(e))}):n(e):n("")}function pu(e,t,u,n){var r=Object.keys(e._attachments||{});if(!r.length)return n&&n();var i=0;function o(){++i===r.length&&n&&n()}r.forEach(function(n){t.attachments&&t.include_docs?function(e,t){var n=e._attachments[t],r=n.digest;u.objectStore(nu).get(r).onsuccess=function(e){n.body=e.target.result.body,o()}}(e,n):(e._attachments[n].stub=!0,o())})}function vu(e,t){return E.all(e.map(function(e){if(e.doc&&e.doc._attachments){var u=Object.keys(e.doc._attachments);return E.all(u.map(function(u){var n=e.doc._attachments[u];if("body"in n){var r=n.body,i=n.content_type;return new E(function(o){hu(r,i,t,function(t){e.doc._attachments[u]=G(j(n,["digest","content_type"]),{data:t}),o()})})}}))}}))}function Fu(e,t,u){var n=[],r=u.objectStore(uu),i=u.objectStore(nu),o=u.objectStore(ru),a=e.length;function s(){--a||function(){if(!n.length)return;n.forEach(function(e){var t=o.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1));t.onsuccess=function(t){var u=t.target.result;u||i.delete(e)}})}()}e.forEach(function(e){var u=r.index("_doc_id_rev"),i=t+"::"+e;u.getKey(i).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return s();r.delete(t),o.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var u=t.value.digestSeq.split("::")[0];n.push(u),o.delete(t.primaryKey),t.continue()}else s()}}})}function Cu(e,t,u){try{return{txn:e.transaction(t,u)}}catch(e){return{error:e}}}var Au=new $;function Eu(e,t,u,n,r,i){for(var o,a,s,c,l,f,D,d,h=t.docs,p=0,v=h.length;p<v;p++){var F=h[p];F._id&&He(F._id)||(F=h[p]=Ot(F,u.new_edits)).error&&!D&&(D=F)}if(D)return i(D);var C=!1,A=0,E=new Array(h.length),g=new m,y=!1,B=n._meta.blobSupport?"blob":"base64";function b(){C=!0,_()}function _(){d&&C&&(d.docCount+=A,f.put(d))}function w(){y||(Au.notify(n._meta.name),i(null,E))}function x(e,t,u,n,r,i,o,a){e.metadata.winningRev=t,e.metadata.deleted=u;var s=e.data;if(s._id=e.metadata.id,s._rev=e.metadata.rev,n&&(s._deleted=!0),s._attachments&&Object.keys(s._attachments).length)return function(e,t,u,n,r,i){var o=e.data,a=0,s=Object.keys(o._attachments);function l(){a===s.length&&k(e,t,u,n,r,i)}function f(){a++,l()}s.forEach(function(u){var n=e.data._attachments[u];if(n.stub)a++,l();else{var r=n.data;delete n.data,n.revpos=parseInt(t,10);var i=n.digest;!function(e,t,u){c.count(e).onsuccess=function(n){var r=n.target.result;if(r)return u();var i={digest:e,body:t},o=c.put(i);o.onsuccess=u}}(i,r,f)}})}(e,t,u,r,o,a);A+=i,_(),k(e,t,u,r,o,a)}function k(e,t,u,r,i,c){var f=e.data,D=e.metadata;function d(i){var s=e.stemmedRevs||[];r&&n.auto_compaction&&(s=s.concat(Oe(e.metadata))),s&&s.length&&Fu(s,e.metadata.id,o),D.seq=i.target.result;var c=fu(D,t,u);a.put(c).onsuccess=h}function h(){E[i]={ok:!0,id:D.id,rev:D.rev},g.set(e.metadata.id,e.metadata),function(e,t,u){var n=0,r=Object.keys(e.data._attachments||{});if(!r.length)return u();function i(){++n===r.length&&u()}function o(u){var n=e.data._attachments[u].digest,r=l.put({seq:t,digestSeq:n+"::"+t});r.onsuccess=i,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),i()}}for(var a=0;a<r.length;a++)o(r[a])}(e,D.seq,c)}f._doc_id_rev=D.id+"::"+D.rev,delete f._id,delete f._rev;var p=s.put(f);p.onsuccess=d,p.onerror=function(e){e.preventDefault(),e.stopPropagation(),s.index("_doc_id_rev").getKey(f._doc_id_rev).onsuccess=function(e){s.put(f,e.target.result).onsuccess=d}}}Qt(h,B,function(t){if(t)return i(t);!function(){var t=Cu(r,[tu,uu,nu,ou,ru,iu],"readwrite");if(t.error)return i(t.error);(o=t.txn).onabort=lu(i),o.ontimeout=lu(i),o.oncomplete=w,a=o.objectStore(tu),s=o.objectStore(uu),c=o.objectStore(nu),l=o.objectStore(ru),(f=o.objectStore(iu)).get(iu).onsuccess=function(e){d=e.target.result,_()},function(e){var t=[];if(h.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(u){var n=e.data._attachments[u];n.stub&&t.push(n.digest)})}),!t.length)return e();var u,n=0;t.forEach(function(r){!function(e,t){c.get(e).onsuccess=function(u){if(u.target.result)t();else{var n=le(ce,"unknown stub attachment with digest "+e);n.status=412,t(n)}}}(r,function(r){r&&!u&&(u=r),++n===t.length&&e(u)})})}(function(t){if(t)return y=!0,i(t);!function(){if(!h.length)return;var t=0;function r(){++t===h.length&&Zt(e.revs_limit,h,n,g,o,E,x,u,b)}function i(e){var t=Du(e.target.result);t&&g.set(t.id,t),r()}for(var s=0,c=h.length;s<c;s++){var l=h[s];if(l._id&&He(l._id))r();else{var f=a.get(l.metadata.id);f.onsuccess=i}}}()})}()})}function gu(e,t,u,n,r){var i,o,a;function s(e){o=e.target.result,i&&r(i,o,a)}function c(e){i=e.target.result,o&&r(i,o,a)}function l(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!u?(a={continue:function(){if(!i.length)return r();var u,a=i[i.length-1];if(t&&t.upper)try{u=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else u=IDBKeyRange.lowerBound(a,!0);t=u,i=null,o=null,e.getAll(t,n).onsuccess=s,e.getAllKeys(t,n).onsuccess=c}},e.getAll(t,n).onsuccess=s,e.getAllKeys(t,n).onsuccess=c):u?e.openCursor(t,"prev").onsuccess=l:e.openCursor(t).onsuccess=l}function yu(e,t,u){var n,r,i="startkey"in e&&e.startkey,o="endkey"in e&&e.endkey,a="key"in e&&e.key,s="keys"in e&&e.keys,c=e.skip||0,l="number"==typeof e.limit?e.limit:-1,f=!1!==e.inclusive_end;if(!s&&(r=(n=function(e,t,u,n,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!u,!1):IDBKeyRange.bound(e,t,!1,!u);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!u):IDBKeyRange.upperBound(t,!u);if(n)return IDBKeyRange.only(n)}catch(e){return{error:e}}return null}(i,o,f,a,e.descending))&&n.error)&&("DataError"!==r.name||0!==r.code))return u(le(oe,r.name,r.message));var D=[tu,uu,iu];e.attachments&&D.push(nu);var d=Cu(t,D,"readonly");if(d.error)return u(d.error);var h=d.txn;h.oncomplete=function(){e.attachments?vu(g,e.binary).then(b):b()},h.onabort=lu(u);var p,v,F=h.objectStore(tu),C=h.objectStore(uu),A=h.objectStore(iu),E=C.index("_doc_id_rev"),g=[];function y(t,u){var n={id:u.id,key:u.id,value:{rev:t}};u.deleted?s&&(g.push(n),n.value.deleted=!0,n.doc=null):c--<=0&&(g.push(n),e.include_docs&&function(t,u,n){var r=t.id+"::"+n;E.get(r).onsuccess=function(n){if(u.doc=du(n.target.result),e.conflicts){var r=qe(t);r.length&&(u.doc._conflicts=r)}pu(u.doc,e,h)}}(u,n,t))}function m(e){for(var t=0,u=e.length;t<u&&g.length!==l;t++){var n=e[t];if(n.error&&s)g.push(n);else{var r=Du(n);y(r.winningRev,r)}}}function B(e,t,u){u&&(m(t),g.length<l&&u.continue())}function b(){var t={total_rows:p,offset:e.skip,rows:g};e.update_seq&&void 0!==v&&(t.update_seq=v),u(null,t)}return A.get(iu).onsuccess=function(e){p=e.target.result.docCount},e.update_seq&&function(e,t){e.openCursor(null,"prev").onsuccess=function(e){var u=e.target.result,n=void 0;u&&u.key&&(n=u.key);return t({target:{result:[n]}})}}(C,function(e){e.target.result&&e.target.result.length>0&&(v=e.target.result[0])}),r||0===l?void 0:s?function(e,t,u){var n=[],r=0;e.forEach(function(i,o){t.get(i).onsuccess=function(t){t.target.result?n[o]=t.target.result:n[o]={key:i,error:"not_found"},++r===e.length&&u(e,n,{})}})}(e.keys,F,B):-1===l?function(e,t,u){if("function"!=typeof e.getAll){var n=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(n.push(t.value),t.continue()):u({target:{result:n}})}}else e.getAll(t).onsuccess=u}(F,n,function(t){var u=t.target.result;e.descending&&(u=u.reverse()),m(u)}):void gu(F,n,e.descending,l+c,B)}var mu=!1,Bu=[];function bu(){!mu&&Bu.length&&(mu=!0,Bu.shift()())}function _u(e,t,u,n){if((e=_(e)).continuous){var r=u+":"+_e();return Au.addListener(u,r,t,e),Au.notify(u),{cancel:function(){Au.removeListener(u,r)}}}var i=e.doc_ids&&new y(e.doc_ids);e.since=e.since||0;var o,a=e.since,s="limit"in e?e.limit:-1;0===s&&(s=1),o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var c,l,f,D,d=[],h=0,p=De(e),v=new m;function F(e,t,u,n){if(u.seq!==t)return n();if(u.winningRev===e._rev)return n(u,e);var r=e._id+"::"+u.winningRev;D.get(r).onsuccess=function(e){n(u,du(e.target.result))}}function C(){e.complete(null,{results:d,last_seq:a})}var A=[tu,uu];e.attachments&&A.push(nu);var E=Cu(n,A,"readonly");if(E.error)return e.complete(E.error);(c=E.txn).onabort=lu(e.complete),c.oncomplete=function(){!e.continuous&&e.attachments?vu(d).then(C):C()},l=c.objectStore(uu),f=c.objectStore(tu),D=l.index("_doc_id_rev"),gu(l,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,s,function(t,u,n){if(n&&t.length){var r=new Array(t.length),l=new Array(t.length),D=0;u.forEach(function(e,u){!function(e,t,u){if(i&&!i.has(e._id))return u();var n=v.get(e._id);if(n)return F(e,t,n,u);f.get(e._id).onsuccess=function(r){n=Du(r.target.result),v.set(e._id,n),F(e,t,n,u)}}(du(e),t[u],function(e,i){l[u]=e,r[u]=i,++D===t.length&&function(){for(var e=0,t=r.length;e<t&&h!==s;e++){var u=r[e];u&&C(l[e],u)}h!==s&&n.continue()}()})})}function C(t,u){var n=e.processChange(u,t,e);a=n.seq=t.seq;var r=p(n);if("object"==typeof r)return e.complete(r);r&&(h++,o&&d.push(n),e.attachments&&e.include_docs?pu(u,e,c,function(){vu([n],e.binary).then(function(){e.onChange(n)})}):e.onChange(n))}})}var wu,xu=new m,ku=new m;function Su(e,t){var u=this;!function(e,t,u){Bu.push(function(){e(function(e,n){!function(e,t,u,n){try{e(t,u)}catch(t){n.emit("error",t)}}(t,e,n,u),mu=!1,s()(function(){bu()})})}),bu()}(function(t){!function(e,t,u){var n=t.name,r=null;function i(e,t){var u=e.objectStore(tu);u.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),u.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var r=n.value,i=$e(r);r.deletedOrLocal=i?"1":"0",u.put(r),n.continue()}else t()}}function o(e,t){var u=e.objectStore(ou),n=e.objectStore(tu),r=e.objectStore(uu),i=n.openCursor();i.onsuccess=function(e){var i=e.target.result;if(i){var o=i.value,a=o.id,s=He(a),c=we(o);if(s){var l=a+"::"+c,f=a+"::",D=a+"::~",d=r.index("_doc_id_rev"),h=IDBKeyRange.bound(f,D,!1,!1),p=d.openCursor(h);p.onsuccess=function(e){if(p=e.target.result){var t=p.value;t._doc_id_rev===l&&u.put(t),r.delete(p.primaryKey),p.continue()}else n.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function a(e,t){var u=e.objectStore(uu),n=e.objectStore(nu),r=e.objectStore(ru),i=n.count();i.onsuccess=function(e){var n=e.target.result;if(!n)return t();u.openCursor().onsuccess=function(e){var u=e.target.result;if(!u)return t();for(var n=u.value,i=u.primaryKey,o=Object.keys(n._attachments||{}),a={},s=0;s<o.length;s++){var c=n._attachments[o[s]];a[c.digest]=!0}var l=Object.keys(a);for(s=0;s<l.length;s++){var f=l[s];r.put({seq:i,digestSeq:f+"::"+i})}u.continue()}}}function c(e){var t=e.objectStore(uu),u=e.objectStore(tu),n=u.openCursor();n.onsuccess=function(e){var n=e.target.result;if(n){var r,i,o,a,s=function(e){if(!e.data)return e.deleted="1"===e.deletedOrLocal,e;return Du(e)}(n.value);if(s.winningRev=s.winningRev||we(s),s.seq)return c();r=s.id+"::",i=s.id+"::",o=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(r,i)),a=0,o.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=a,c();var u=t.primaryKey;u>a&&(a=u),t.continue()}}function c(){var e=fu(s,s.winningRev,s.deleted),t=u.put(e);t.onsuccess=function(){n.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=x(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(u,n,i){Eu(t,u,n,e,r,i)},e._get=function(e,t,u){var n,i,o,a=t.ctx;if(!a){var s=Cu(r,[tu,uu,nu],"readonly");if(s.error)return u(s.error);a=s.txn}function c(){u(o,{doc:n,metadata:i,ctx:a})}a.objectStore(tu).get(e).onsuccess=function(e){if(!(i=Du(e.target.result)))return o=le(X,"missing"),c();var u;if(t.rev)u=t.latest?We(t.rev,i):t.rev;else{u=i.winningRev;var r=$e(i);if(r)return o=le(X,"deleted"),c()}var s=a.objectStore(uu),l=i.id+"::"+u;s.index("_doc_id_rev").get(l).onsuccess=function(e){if((n=e.target.result)&&(n=du(n)),!n)return o=le(X,"missing"),c();c()}}},e._getAttachment=function(e,t,u,n,i){var o;if(n.ctx)o=n.ctx;else{var a=Cu(r,[tu,uu,nu],"readonly");if(a.error)return i(a.error);o=a.txn}var s=u.digest,c=u.content_type;o.objectStore(nu).get(s).onsuccess=function(e){var t=e.target.result.body;hu(t,c,n.binary,function(e){i(null,e)})}},e._info=function(t){var u,n,i=Cu(r,[iu,uu],"readonly");if(i.error)return t(i.error);var o=i.txn;o.objectStore(iu).get(iu).onsuccess=function(e){n=e.target.result.docCount},o.objectStore(uu).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;u=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:n,update_seq:u,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){yu(e,r,t)},e._changes=function(t){return _u(t,e,n,r)},e._close=function(e){r.close(),xu.delete(n),e()},e._getRevisionTree=function(e,t){var u=Cu(r,[tu],"readonly");if(u.error)return t(u.error);var n=u.txn,i=n.objectStore(tu).get(e);i.onsuccess=function(e){var u=Du(e.target.result);u?t(null,u.rev_tree):t(le(X))}},e._doCompaction=function(e,t,u){var n=[tu,uu,nu,ru],i=Cu(r,n,"readwrite");if(i.error)return u(i.error);var o=i.txn,a=o.objectStore(tu);a.get(e).onsuccess=function(u){var n=Du(u.target.result);xe(n.rev_tree,function(e,u,n,r,i){var o=u+"-"+n;-1!==t.indexOf(o)&&(i.status="missing")}),Fu(t,e,o);var r=n.winningRev,i=n.deleted;o.objectStore(tu).put(fu(n,r,i))},o.onabort=lu(u),o.oncomplete=function(){u()}},e._getLocal=function(e,t){var u=Cu(r,[ou],"readonly");if(u.error)return t(u.error);var n=u.txn,i=n.objectStore(ou).get(e);i.onerror=lu(t),i.onsuccess=function(e){var u=e.target.result;u?(delete u._doc_id_rev,t(null,u)):t(le(X))}},e._putLocal=function(e,t,u){"function"==typeof t&&(u=t,t={}),delete e._revisions;var n=e._rev,i=e._id;e._rev=n?"0-"+(parseInt(n.split("-")[1],10)+1):"0-1";var o,a=t.ctx;if(!a){var s=Cu(r,[ou],"readwrite");if(s.error)return u(s.error);(a=s.txn).onerror=lu(u),a.oncomplete=function(){o&&u(null,o)}}var c,l=a.objectStore(ou);n?(c=l.get(i)).onsuccess=function(r){var i=r.target.result;if(i&&i._rev===n){var a=l.put(e);a.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&u(null,o)}}else u(le(J))}:((c=l.add(e)).onerror=function(e){u(le(J)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&u(null,o)})},e._removeLocal=function(e,t,u){"function"==typeof t&&(u=t,t={});var n,i=t.ctx;if(!i){var o=Cu(r,[ou],"readwrite");if(o.error)return u(o.error);(i=o.txn).oncomplete=function(){n&&u(null,n)}}var a=e._id,s=i.objectStore(ou),c=s.get(a);c.onerror=lu(u),c.onsuccess=function(r){var i=r.target.result;i&&i._rev===e._rev?(s.delete(a),n={ok:!0,id:a,rev:"0-0"},t.ctx&&u(null,n)):u(le(X))}},e._destroy=function(e,t){Au.removeAllListeners(n);var u=ku.get(n);u&&u.result&&(u.result.close(),xu.delete(n));var r=indexedDB.deleteDatabase(n);r.onsuccess=function(){ku.delete(n),U()&&n in localStorage&&delete localStorage[n],t(null,{ok:!0})},r.onerror=lu(t)};var l,f=xu.get(n);if(f)return r=f.idb,e._meta=f.global,s()(function(){u(null,e)});l=t.storage?function(e,t){try{return indexedDB.open(e,{version:eu,storage:t})}catch(t){return indexedDB.open(e,eu)}}(n,t.storage):indexedDB.open(n,eu);ku.set(n,l),l.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(tu,{keyPath:"id"});e.createObjectStore(uu,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(nu,{keyPath:"digest"}),e.createObjectStore(iu,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(au),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(ou,{keyPath:"_id"});var u=e.createObjectStore(ru,{autoIncrement:!0});u.createIndex("seq","seq"),u.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var u=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore(ou,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore(ru,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=[i,o,a,c],r=e.oldVersion;!function e(){var t=n[r-1];r++;t&&t(u,e)}()},l.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),xu.delete(n)},r.onabort=function(e){H("error","Database has a global failure",e.target.error),r.close(),xu.delete(n)};var i,o,a,s,c=r.transaction([iu,au,tu],"readwrite"),l=!1;function f(){void 0!==a&&l&&(e._meta={name:n,instanceId:s,blobSupport:a},xu.set(n,{idb:r,global:e._meta}),u(null,e))}function D(){if(void 0!==o&&void 0!==i){var e=n+"_id";e in i?s=i[e]:i[e]=s=_e(),i.docCount=o,c.objectStore(iu).put(i)}}c.objectStore(iu).get(iu).onsuccess=function(e){i=e.target.result||{id:iu},D()},function(e,t){e.objectStore(tu).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(c,function(e){o=e,D()}),wu||(wu=function(e){return new E(function(t){var u=Lt([""]);e.objectStore(au).put(u,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),u=navigator.userAgent.match(/Edge\//);t(u||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}(c)),wu.then(function(e){a=e,f()}),c.oncomplete=function(){l=!0,f()},c.onabort=lu(u)},l.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";H("error",e),u(le(oe,e))}}(u,e,t)},t,u.constructor)}function qu(e){return e<65?e-48:e-55}function Ou(e,t){return"UTF-8"===t?function(e){return decodeURIComponent(escape(e))}(function(e,t,u){for(var n="";t<u;)n+=String.fromCharCode(qu(e.charCodeAt(t++))<<4|qu(e.charCodeAt(t++)));return n}(e,0,e.length)):function(e,t,u){for(var n="";t<u;)n+=String.fromCharCode(qu(e.charCodeAt(t+2))<<12|qu(e.charCodeAt(t+3))<<8|qu(e.charCodeAt(t))<<4|qu(e.charCodeAt(t+1))),t+=4;return n}(e,0,e.length)}function Tu(e){return"'"+e+"'"}Su.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");try{return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var ju=7,Lu=Tu("document-store"),Ru=Tu("by-sequence"),Iu=Tu("attach-store"),Nu=Tu("local-store"),Pu=Tu("metadata-store"),Mu=Tu("attach-seq-store");function Uu(e){return delete e._id,delete e._rev,JSON.stringify(e)}function $u(e,t,u){return(e=JSON.parse(e))._id=t,e._rev=u,e}function Hu(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Wu(e,t,u,n,r){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(u?" ON "+u:"")+(n?" WHERE "+("string"==typeof n?n:n.join(" AND ")):"")+(r?" ORDER BY "+r:"")}function Ku(e,t,u){if(e.length){var n=0,r=[];e.forEach(function(e){var n="SELECT seq FROM "+Ru+" WHERE doc_id=? AND rev=?";u.executeSql(n,[t,e],function(e,t){if(!t.rows.length)return i();var u=t.rows.item(0).seq;r.push(u),e.executeSql("DELETE FROM "+Ru+" WHERE seq=?",[u],i)})})}function i(){++n===e.length&&function(){if(!r.length)return;var e="SELECT DISTINCT digest AS digest FROM "+Mu+" WHERE seq IN "+Hu(r.length);u.executeSql(e,r,function(e,t){for(var u=[],n=0;n<t.rows.length;n++)u.push(t.rows.item(n).digest);if(u.length){var i="DELETE FROM "+Mu+" WHERE seq IN ("+r.map(function(){return"?"}).join(",")+")";e.executeSql(i,r,function(e){var t="SELECT digest FROM "+Mu+" WHERE digest IN ("+u.map(function(){return"?"}).join(",")+")";e.executeSql(t,u,function(e,t){for(var n=new y,r=0;r<t.rows.length;r++)n.add(t.rows.item(r).digest);u.forEach(function(t){n.has(t)||(e.executeSql("DELETE FROM "+Mu+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+Iu+" WHERE digest=?",[t]))})})})}})}()}}function Gu(e){return function(t){H("error","WebSQL threw an error",t);var u=t&&t.constructor.toString().match(/function ([^(]+)/),n=(u&&u[1]||t.type,t.target||t.message);e(le(ae,n))}}function Vu(e,t,u,n,r,i,o){var a,s=u.new_edits,c=t.docs.map(function(e){return e._id&&He(e._id)?e:Ot(e,s)}),l=c.filter(function(e){return e.error});if(l.length)return o(l[0]);var f,D=new Array(c.length),d=new m;function h(){if(f)return o(f);i.notify(n._name),o(null,D)}function p(e){var t=[];if(c.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(u){var n=e.data._attachments[u];n.stub&&t.push(n.digest)})}),!t.length)return e();var u,n=0;t.forEach(function(r){!function(e,t){var u="SELECT count(*) as cnt FROM "+Iu+" WHERE digest=?";a.executeSql(u,[e],function(u,n){if(0===n.rows.item(0).cnt){var r=le(ce,"unknown stub attachment with digest "+e);t(r)}else t()})}(r,function(r){r&&!u&&(u=r),++n===t.length&&e(u)})})}function v(e,t,u,r,i,o,s,c){function l(){var t=e.data,u=r?1:0,n=t._id,i=t._rev,o=Uu(t),s="INSERT INTO "+Ru+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[n,i,o,u];function l(e,u){var n,r,i,o=0,s=Object.keys(t._attachments||{});if(!s.length)return u();function c(){return++o===s.length&&u(),!1}for(var l=0;l<s.length;l++)n=s[l],r=void 0,i=void 0,r="INSERT INTO "+Mu+" (digest, seq) VALUES (?,?)",i=[t._attachments[n].digest,e],a.executeSql(r,i,c,c)}a.executeSql(s,c,function(e,t){var u=t.insertId;l(u,function(){C(e,u)})},function(){var e=Wu("seq",Ru,null,"doc_id=? AND rev=?");return a.executeSql(e,[n,i],function(e,t){var r=t.rows.item(0).seq,a="UPDATE "+Ru+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",s=[o,u,n,i];e.executeSql(a,s,function(e){l(r,function(){C(e,r)})})}),!1})}function f(e){h||(e?c(h=e):p===v.length&&l())}var h=null,p=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var v=Object.keys(e.data._attachments||{});function F(e){p++,f(e)}function C(u,r){var o=e.metadata.id,a=e.stemmedRevs||[];i&&n.auto_compaction&&(a=Oe(e.metadata).concat(a)),a.length&&Ku(a,o,u),e.metadata.seq=r;var l=e.metadata.rev;delete e.metadata.rev;var f=i?"UPDATE "+Lu+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+Ru+" WHERE doc_id="+Lu+".id AND rev=?) WHERE id=?":"INSERT INTO "+Lu+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",h=cu(e.metadata),p=i?[h,r,t,o]:[o,r,r,h];u.executeSql(f,p,function(){D[s]={ok:!0,id:e.metadata.id,rev:l},d.set(o,e.metadata),c()})}r&&(e.data._deleted=!0),v.forEach(function(u){var n=e.data._attachments[u];if(n.stub)p++,f();else{var r=n.data;delete n.data,n.revpos=parseInt(t,10),function(e,t,u){var n="SELECT digest FROM "+Iu+" WHERE digest=?";a.executeSql(n,[e],function(r,i){if(i.rows.length)return u();var o;n="INSERT INTO "+Iu+" (digest, body, escaped) VALUES (?,?,1)",r.executeSql(n,[e,(o=t,o.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,""))],function(){u()},function(){return u(),!1})})}(n.digest,r,F)}}),v.length||l()}function F(){Zt(e.revs_limit,c,n,d,a,D,v,u)}Qt(c,"binary",function(e){if(e)return o(e);r.transaction(function(e){a=e,p(function(e){e?f=e:function(e){if(!c.length)return e();var t=0;function u(){++t===c.length&&e()}c.forEach(function(e){if(e._id&&He(e._id))return u();var t=e.metadata.id;a.executeSql("SELECT json FROM "+Lu+" WHERE id = ?",[t],function(e,n){if(n.rows.length){var r=su(n.rows.item(0).json);d.set(t,r)}u()})})}(F)})},Gu(o),h)})}var zu=new m;function Xu(e){return e.websql(e.name,e.version,e.description,e.size)}function Ju(e){var t=zu.get(e.name);return t||(t=function(e){try{return{db:Xu(e)}}catch(e){return{error:e}}}(e),zu.set(e.name,t)),t}var Qu=new $;function Yu(e,t,u,n,r){var i=Object.keys(e._attachments||{});if(!i.length)return r&&r();var o=0;function a(){++o===i.length&&r&&r()}i.forEach(function(r){t.attachments&&t.include_docs?function(e,r){var i=e._attachments[r],o={binary:t.binary,ctx:n};u._getAttachment(e._id,r,i,o,function(t,u){e._attachments[r]=G(j(i,["digest","content_type"]),{data:u}),a()})}(e,r):(e._attachments[r].stub=!0,a())})}var Zu=1,en="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+Ru+" (seq, deleted)",tn="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+Ru+" (doc_id, rev)",un="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Lu+" (winningseq)",nn="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Mu+" (seq)",rn="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Mu+" (digest, seq)",on=Ru+".seq = "+Lu+".winningseq",an=Ru+".seq AS seq, "+Ru+".deleted AS deleted, "+Ru+".json AS data, "+Ru+".rev AS rev, "+Lu+".json AS metadata";function sn(e,t){var u,n=this,r=null,i=function(e){return"size"in e?1e6*e.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}(e),o=[];n._name=e.name;var a=Ju(G({},e,{version:Zu,description:e.name,size:i}));if(a.error)return Gu(t)(a.error);var s=a.db;function c(){U()&&(window.localStorage["_pouch__websqldb_"+n._name]=!0),t(null,n)}function l(e,t){e.executeSql(un),e.executeSql("ALTER TABLE "+Ru+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(en),e.executeSql("ALTER TABLE "+Lu+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Lu+" (local, id)");var u="SELECT "+Lu+".winningseq AS seq, "+Lu+".json AS metadata FROM "+Ru+" JOIN "+Lu+" ON "+Ru+".seq = "+Lu+".winningseq";e.executeSql(u,[],function(e,u){for(var n=[],r=[],i=0;i<u.rows.length;i++){var o=u.rows.item(i),a=o.seq,s=JSON.parse(o.metadata);$e(s)&&n.push(a),He(s.id)&&r.push(s.id)}e.executeSql("UPDATE "+Lu+"SET local = 1 WHERE id IN "+Hu(r.length),r,function(){e.executeSql("UPDATE "+Ru+" SET deleted = 1 WHERE seq IN "+Hu(n.length),n,t)})})})})}function f(e,t){var u="CREATE TABLE IF NOT EXISTS "+Nu+" (id UNIQUE, rev, json)";e.executeSql(u,[],function(){var u="SELECT "+Lu+".id AS id, "+Ru+".json AS data FROM "+Ru+" JOIN "+Lu+" ON "+Ru+".seq = "+Lu+".winningseq WHERE local = 1";e.executeSql(u,[],function(e,u){for(var n=[],r=0;r<u.rows.length;r++)n.push(u.rows.item(r));!function u(){if(!n.length)return t(e);var r=n.shift(),i=JSON.parse(r.data)._rev;e.executeSql("INSERT INTO "+Nu+" (id, rev, json) VALUES (?,?,?)",[r.id,i,r.data],function(e){e.executeSql("DELETE FROM "+Lu+" WHERE id=?",[r.id],function(e){e.executeSql("DELETE FROM "+Ru+" WHERE seq=?",[r.seq],function(){u()})})})}()})})}function D(e,t){function n(n){!function r(){if(!n.length)return t(e);var i=Ou(n.shift().hex,u),o=i.lastIndexOf("::"),a=i.substring(0,o),s=i.substring(o+2),c="UPDATE "+Ru+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[a,s,i],function(){r()})}()}var r="ALTER TABLE "+Ru+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+Ru+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(tn,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+Ru;e.executeSql(t,[],function(e,t){for(var u=[],r=0;r<t.rows.length;r++)u.push(t.rows.item(r));n(u)})})})})}function d(e,t){function u(e){var u="SELECT COUNT(*) AS cnt FROM "+Iu;e.executeSql(u,[],function(e,u){if(!u.rows.item(0).cnt)return t(e);var n=0,r=10;!function u(){var i=Wu(an+", "+Lu+".id AS id",[Lu,Ru],on,null,Lu+".id ");i+=" LIMIT "+r+" OFFSET "+n,n+=r,e.executeSql(i,[],function(e,n){if(!n.rows.length)return t(e);for(var r,i,o,a={},s=0;s<n.rows.length;s++)for(var c=n.rows.item(s),l=$u(c.data,c.id,c.rev),f=Object.keys(l._attachments||{}),D=0;D<f.length;D++){var d=l._attachments[f[D]];r=d.digest,i=c.seq,o=void 0,-1===(o=a[r]=a[r]||[]).indexOf(i)&&o.push(i)}var h=[];if(Object.keys(a).forEach(function(e){a[e].forEach(function(t){h.push([e,t])})}),!h.length)return u();var p=0;h.forEach(function(t){var n="INSERT INTO "+Mu+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++p===h.length&&u()})})})}()})}var n="CREATE TABLE IF NOT EXISTS "+Mu+" (digest, seq INTEGER)";e.executeSql(n,[],function(e){e.executeSql(rn,[],function(e){e.executeSql(nn,[],u)})})}function h(e,t){var u="ALTER TABLE "+Iu+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(u,[],t)}function p(e,t){var u="ALTER TABLE "+Lu+" ADD COLUMN max_seq INTEGER";e.executeSql(u,[],function(e){var u="UPDATE "+Lu+" SET max_seq=(SELECT MAX(seq) FROM "+Ru+" WHERE doc_id=id)";e.executeSql(u,[],function(e){var u="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Lu+" (max_seq)";e.executeSql(u,[],t)})})}function v(){for(;o.length>0;){o.pop()(null,r)}}function F(e,t){if(0===t){var u="CREATE TABLE IF NOT EXISTS "+Pu+" (dbid, db_version INTEGER)",n="CREATE TABLE IF NOT EXISTS "+Iu+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",i="CREATE TABLE IF NOT EXISTS "+Mu+" (digest, seq INTEGER)",o="CREATE TABLE IF NOT EXISTS "+Lu+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",a="CREATE TABLE IF NOT EXISTS "+Ru+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",s="CREATE TABLE IF NOT EXISTS "+Nu+" (id UNIQUE, rev, json)";e.executeSql(n),e.executeSql(s),e.executeSql(i,[],function(){e.executeSql(nn),e.executeSql(rn)}),e.executeSql(o,[],function(){e.executeSql(un),e.executeSql(a,[],function(){e.executeSql(en),e.executeSql(tn),e.executeSql(u,[],function(){var t="INSERT INTO "+Pu+" (db_version, dbid) VALUES (?,?)";r=_e();var u=[ju,r];e.executeSql(t,u,function(){v()})})})})}else{var c=[l,f,D,d,h,p,function(){t<ju&&e.executeSql("UPDATE "+Pu+" SET db_version = "+ju);var u="SELECT dbid FROM "+Pu;e.executeSql(u,[],function(e,t){r=t.rows.item(0).dbid,v()})}],F=t,C=function(e){c[F-1](e,C),F++};C(e)}}function C(e,t){var u="SELECT MAX(seq) AS seq FROM "+Ru;e.executeSql(u,[],function(e,u){var n=u.rows.item(0).seq||0;t(n)})}function A(e,t){var u=Wu("COUNT("+Lu+".id) AS 'num'",[Lu,Ru],on,Ru+".deleted=0");e.executeSql(u,[],function(e,u){t(u.rows.item(0).num)})}"function"!=typeof s.readTransaction&&(s.readTransaction=s.transaction),s.transaction(function(e){!function(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;u=2===r.length?"UTF-8":"UTF-16",t()})}(e,function(){!function(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+Pu;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+Pu,[],function(e,t){var u=t.rows.item(0).db_version;F(e,u)}):e.executeSql("ALTER TABLE "+Pu+" ADD COLUMN db_version INTEGER",[],function(){F(e,1)}):F(e,0)})}(e)})},Gu(t),c),n._remote=!1,n.type=function(){return"websql"},n._id=x(function(e){e(null,r)}),n._info=function(e){var t,n;s.readTransaction(function(e){C(e,function(e){t=e}),A(e,function(e){n=e})},Gu(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:u})})},n._bulkDocs=function(t,u,r){Vu(e,t,u,n,s,Qu,r)},n._get=function(e,t,u){var r,i,o,a,c=t.ctx;if(!c)return s.readTransaction(function(r){n._get(e,G({ctx:r},t),u)});function l(e){u(e,{doc:r,metadata:i,ctx:c})}if(t.rev){if(t.latest)return void function(e,t,u,n,r){var i=Wu(an,[Lu,Ru],on,Lu+".id=?"),o=[t];e.executeSql(i,o,function(e,t){if(!t.rows.length){var i=le(X,"missing");return r(i)}var o=su(t.rows.item(0).metadata);n(We(u,o))})}(c,e,t.rev,function(r){t.latest=!1,t.rev=r,n._get(e,t,u)},l);o=Wu(an,[Lu,Ru],Lu+".id="+Ru+".doc_id",[Ru+".doc_id=?",Ru+".rev=?"]),a=[e,t.rev]}else o=Wu(an,[Lu,Ru],on,Lu+".id=?"),a=[e];c.executeSql(o,a,function(e,u){if(!u.rows.length)return l(le(X,"missing"));var n=u.rows.item(0);if(i=su(n.metadata),n.deleted&&!t.rev)return l(le(X,"deleted"));r=$u(n.data,i.id,n.rev),l()})},n._allDocs=function(e,t){var u,r,i=[],o="startkey"in e&&e.startkey,a="endkey"in e&&e.endkey,c="key"in e&&e.key,l="keys"in e&&e.keys,f="descending"in e&&e.descending,D="limit"in e?e.limit:-1,d="skip"in e?e.skip:0,h=!1!==e.inclusive_end,p=[],v=[];if(l){var F=[],E="";l.forEach(function(e){-1===F.indexOf(e)&&(F.push(e),E+="?,")}),E=E.substring(0,E.length-1),v.push(Lu+".id IN ("+E+")"),p=p.concat(F)}else if(!1!==c)v.push(Lu+".id = ?"),p.push(c);else if(!1!==o||!1!==a){if(!1!==o&&(v.push(Lu+".id "+(f?"<=":">=")+" ?"),p.push(o)),!1!==a){var g=f?">":"<";h&&(g+="="),v.push(Lu+".id "+g+" ?"),p.push(a)}!1!==c&&(v.push(Lu+".id = ?"),p.push(c))}l||v.push(Ru+".deleted = 0"),s.readTransaction(function(t){if(A(t,function(e){u=e}),e.update_seq&&C(t,function(e){r=e}),0!==D){var o=Wu(an,[Lu,Ru],on,v,Lu+".id "+(f?"DESC":"ASC"));o+=" LIMIT "+D+" OFFSET "+d,t.executeSql(o,p,function(t,u){for(var r=0,o=u.rows.length;r<o;r++){var a=u.rows.item(r),s=su(a.metadata),c=s.id,f=$u(a.data,c,a.rev),D=f._rev,d={id:c,key:c,value:{rev:D}};if(e.include_docs){if(d.doc=f,d.doc._rev=D,e.conflicts){var h=qe(s);h.length&&(d.doc._conflicts=h)}Yu(d.doc,e,n,t)}if(a.deleted){if(!l)continue;d.value.deleted=!0,d.doc=null}if(l){var p=l.indexOf(c,p);do{i[p]=d,p=l.indexOf(c,p+1)}while(p>-1&&p<l.length)}else i.push(d)}l&&l.forEach(function(e,t){i[t]||(i[t]={key:e,error:"not_found"})})})}},Gu(t),function(){var n={total_rows:u,offset:e.skip,rows:i};e.update_seq&&(n.update_seq=r),t(null,n)})},n._changes=function(e){if((e=_(e)).continuous){var t=n._name+":"+_e();return Qu.addListener(n._name,t,n,e),Qu.notify(n._name),{cancel:function(){Qu.removeListener(n._name,t)}}}var u=e.descending;e.since=e.since&&!u?e.since:0;var r,i="limit"in e?e.limit:-1;0===i&&(i=1),r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var o=[],a=0;!function(){var t=Lu+".json AS metadata, "+Lu+".max_seq AS maxSeq, "+Ru+".json AS winningDoc, "+Ru+".rev AS winningRev ",c=Lu+" JOIN "+Ru,l=Lu+".id="+Ru+".doc_id AND "+Lu+".winningseq="+Ru+".seq",f=["maxSeq > ?"],D=[e.since];e.doc_ids&&(f.push(Lu+".id IN "+Hu(e.doc_ids.length)),D=D.concat(e.doc_ids));var d=Wu(t,c,l,f,"maxSeq "+(u?"DESC":"ASC")),h=De(e);e.view||e.filter||(d+=" LIMIT "+i);var p=e.since||0;s.readTransaction(function(t){t.executeSql(d,D,function(t,u){function s(t){return function(){e.onChange(t)}}for(var c=0,l=u.rows.length;c<l;c++){var f=u.rows.item(c),D=su(f.metadata);p=f.maxSeq;var d=$u(f.winningDoc,D.id,f.winningRev),v=e.processChange(d,D,e);v.seq=f.maxSeq;var F=h(v);if("object"==typeof F)return e.complete(F);if(F&&(a++,r&&o.push(v),e.attachments&&e.include_docs?Yu(d,e,n,t,s(v)):s(v)()),a===i)break}})},Gu(e.complete),function(){e.continuous||e.complete(null,{results:o,last_seq:p})})}()},n._close=function(e){e()},n._getAttachment=function(e,t,n,r,i){var o,a=r.ctx,s=n.digest,c=n.content_type,l="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Iu+" WHERE digest=?";a.executeSql(l,[s],function(e,t){var n=t.rows.item(0),a=n.escaped?n.body.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""):Ou(n.body,u);o=r.binary?It(a,c):jt(a),i(null,o)})},n._getRevisionTree=function(e,t){s.readTransaction(function(u){var n="SELECT json AS metadata FROM "+Lu+" WHERE id = ?";u.executeSql(n,[e],function(e,u){if(u.rows.length){var n=su(u.rows.item(0).metadata);t(null,n.rev_tree)}else t(le(X))})})},n._doCompaction=function(e,t,u){if(!t.length)return u();s.transaction(function(u){var n="SELECT json AS metadata FROM "+Lu+" WHERE id = ?";u.executeSql(n,[e],function(u,n){var r=su(n.rows.item(0).metadata);xe(r.rev_tree,function(e,u,n,r,i){var o=u+"-"+n;-1!==t.indexOf(o)&&(i.status="missing")});var i="UPDATE "+Lu+" SET json = ? WHERE id = ?";u.executeSql(i,[cu(r),e])}),Ku(t,e,u)},Gu(u),function(){u()})},n._getLocal=function(e,t){s.readTransaction(function(u){var n="SELECT json, rev FROM "+Nu+" WHERE id=?";u.executeSql(n,[e],function(u,n){if(n.rows.length){var r=n.rows.item(0),i=$u(r.json,e,r.rev);t(null,i)}else t(le(X))})})},n._putLocal=function(e,t,u){"function"==typeof t&&(u=t,t={}),delete e._revisions;var n,r=e._rev,i=e._id;n=e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var o,a=Uu(e);function c(e){var s,c;r?(s="UPDATE "+Nu+" SET rev=?, json=? WHERE id=? AND rev=?",c=[n,a,i,r]):(s="INSERT INTO "+Nu+" (id, rev, json) VALUES (?,?,?)",c=[i,n,a]),e.executeSql(s,c,function(e,r){r.rowsAffected?(o={ok:!0,id:i,rev:n},t.ctx&&u(null,o)):u(le(J))},function(){return u(le(J)),!1})}t.ctx?c(t.ctx):s.transaction(c,Gu(u),function(){o&&u(null,o)})},n._removeLocal=function(e,t,u){var n;function r(r){var i="DELETE FROM "+Nu+" WHERE id=? AND rev=?",o=[e._id,e._rev];r.executeSql(i,o,function(r,i){if(!i.rowsAffected)return u(le(X));n={ok:!0,id:e._id,rev:"0-0"},t.ctx&&u(null,n)})}"function"==typeof t&&(u=t,t={}),t.ctx?r(t.ctx):s.transaction(r,Gu(u),function(){n&&u(null,n)})},n._destroy=function(e,t){Qu.removeAllListeners(n._name),s.transaction(function(e){[Lu,Ru,Iu,Pu,Nu,Mu].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},Gu(t),function(){U()&&(delete window.localStorage["_pouch__websqldb_"+n._name],delete window.localStorage[n._name]),t(null,{ok:!0})})}}function cn(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=U(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var u=function(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}();return e&&(localStorage[t]=u?"1":"0"),u}function ln(e,t,u,n){return openDatabase(e,t,u,n)}function fn(e,t){H("warn","WebSQL is deprecated and will be removed in future releases of PouchDB. Please migrate to IndexedDB: https://pouchdb.com/2018/01/23/pouchdb-6.4.2.html");var u=G({websql:ln},e);sn.call(this,u,t)}function Dn(e,t){var u,n,r,i=new Headers,o={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?o.body=JSON.stringify(e.body):o.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),u=function(){for(var e={},t=new E(function(t,u){e.resolve=t,e.reject=u}),u=new Array(arguments.length),n=0;n<u.length;n++)u[n]=arguments[n];return e.promise=t,E.resolve().then(function(){return fetch.apply(null,u)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}(e.url,o),e.timeout>0&&(n=setTimeout(function(){u.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),u.promise.then(function(t){return r={statusCode:t.status},e.timeout>0&&clearTimeout(n),r.statusCode>=200&&r.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){r.statusCode>=200&&r.statusCode<300?t(null,r,e):(e.status=r.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:u.reject}}fn.valid=function(){return"function"==typeof openDatabase&&cn()},fn.use_prefix=!0;var dn=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}();function hn(e,t){return dn||e.xhr?function(e,t){var u,n,r=!1,i=function(){r=!0,u.abort(),a()},o={abort:function(){u.abort(),a()}},a=function(){clearTimeout(n),o.abort=function(){},u&&(u.onprogress=void 0,u.upload&&(u.upload.onprogress=void 0),u.onreadystatechange=void 0,u=void 0)};u=e.xhr?new e.xhr:new XMLHttpRequest;try{u.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}for(var s in u.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(u.responseType="arraybuffer"),"body"in e||(e.body=null),e.headers)e.headers.hasOwnProperty(s)&&u.setRequestHeader(s,e.headers[s]);return e.timeout>0&&(n=setTimeout(i,e.timeout),u.onprogress=function(){clearTimeout(n),4!==u.readyState&&(n=setTimeout(i,e.timeout))},void 0!==u.upload&&(u.upload.onprogress=u.onprogress)),u.onreadystatechange=function(){if(4===u.readyState){var n={statusCode:u.status};if(u.status>=200&&u.status<300){var i;i=e.binary?Lt([u.response||""],{type:u.getResponseHeader("Content-Type")}):u.responseText,t(null,n,i)}else{var o={};if(r)(o=new Error("ETIMEDOUT")).code="ETIMEDOUT";else if("string"==typeof u.response&&""!==u.response)try{o=JSON.parse(u.response)}catch(e){}o.status=u.status,t(o)}a()}},e.body&&e.body instanceof Blob?Ht(e.body,function(e){u.send(e)}):u.send(e.body),o}(e,t):Dn(e,t)}function pn(e,t){e=_(e);return(e=G({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e)).json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),hn(e,function(u,n,r){if(u)return t(fe(u));var i,o=n.headers&&n.headers["content-type"],a=r||"";if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof a&&(/json/.test(o)||/^[\s]*\{/.test(a)&&/\}[\s]*$/.test(a)))try{a=JSON.parse(a.toString())}catch(e){}n.statusCode>=200&&n.statusCode<300?function(t,u,n){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return n(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?fe(e):e})),e.binary,n(null,t,u)}(a,n,t):((i=fe(a)).status=n.statusCode,t(i))})}function vn(e,t){var u=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==u.indexOf("safari")&&-1===u.indexOf("chrome"),r=-1!==u.indexOf("msie"),i=-1!==u.indexOf("trident"),o=-1!==u.indexOf("edge"),a=n||(r||i||o)&&"GET"===e.method,s=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(a||!s)){var c=-1!==e.url.indexOf("?");e.url+=(c?"&":"?")+"_nonce="+Date.now()}return pn(e,t)}var Fn=25,Cn=50,An=5e3,En=1e4,gn={};function yn(e){var t=(e.doc||e.ok)._attachments;t&&Object.keys(t).forEach(function(e){var u=t[e];u.data=Nt(u.data,u.content_type)})}function mn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function Bn(e){return e._attachments&&Object.keys(e._attachments)?E.all(Object.keys(e._attachments).map(function(t){var u=e._attachments[t];if(u.data&&"string"!=typeof u.data)return new E(function(e){$t(u.data,e)}).then(function(e){u.data=e})})):E.resolve()}function bn(e,t){if(function(e){if(!e.prefix)return!1;var t=ye(e.prefix).protocol;return"http"===t||"https"===t}(t)){var u=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(u)}var n=ye(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var r=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=r.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=r.join("/"),n}function _n(e,t){return wn(e,e.db+"/"+t)}function wn(e,t){var u=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+u+t}function xn(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function kn(e,t){var u,n=this,r=bn(e.name,e),i=_n(r,""),a=(e=_(e)).ajax||{};if(e.auth||r.auth){var c=e.auth||r.auth,l=c.username+":"+c.password,f=jt(unescape(encodeURIComponent(l)));a.headers=a.headers||{},a.headers.Authorization="Basic "+f}function D(e,t,u){var r=(e||{}).ajax||{},i=G(_(a),r,t),o=_(a.headers||{});return i.headers=G(o,r.headers,t.headers||{}),n.constructor.listeners("debug").length&&n.constructor.emit("debug",["http",i.method,i.url]),n._ajax(i,u)}function d(e,t){return new E(function(u,n){D(e,t,function(e,t){if(e)return n(e);u(t)})})}function h(e,t){return k(e,o()(function(e){p().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function p(){return e.skipSetup||e.skip_setup?E.resolve():u||((u=d({},{method:"GET",url:i}).catch(function(e){return e&&e.status&&404===e.status?(K(404,"PouchDB is just detecting if the remote exists."),d({},{method:"PUT",url:i})):E.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||E.reject(e)})).catch(function(){u=null}),u)}function v(e){return e.split("/").map(encodeURIComponent).join("/")}n._ajax=vn,s()(function(){t(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=h("id",function(e){D({},{method:"GET",url:wn(r,"")},function(t,u){var n=u&&u.uuid?u.uuid+r.db:_n(r,"");e(null,n)})}),n.request=h("request",function(e,t){e.url=_n(r,e.url),D({},e,t)}),n.compact=h("compact",function(e,t){"function"==typeof e&&(t=e,e={}),D(e=_(e),{url:_n(r,"_compact"),method:"POST"},function(){!function u(){n.info(function(n,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(u,e.interval||200)})}()})}),n.bulkGet=k("bulkGet",function(e,t){var u=this;function n(t){var u={};e.revs&&(u.revs=!0),e.attachments&&(u.attachments=!0),e.latest&&(u.latest=!0),D(e,{url:_n(r,"_bulk_get"+xn(u)),method:"POST",body:{docs:e.docs}},function(u,n){!u&&e.attachments&&e.binary&&n.results.forEach(function(e){e.docs.forEach(yn)}),t(u,n)})}function i(){var n=Cn,r=Math.ceil(e.docs.length/n),i=0,o=new Array(r);function s(e){return function(u,n){o[e]=n.results,++i===r&&t(null,{results:de(o)})}}for(var c=0;c<r;c++){var l=j(e,["revs","attachments","binary","latest"]);l.ajax=a,l.docs=e.docs.slice(c*n,Math.min(e.docs.length,(c+1)*n)),P(u,l,s(c))}}var o=wn(r,""),s=gn[o];"boolean"!=typeof s?n(function(e,u){e?(gn[o]=!1,K(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),i()):(gn[o]=!0,t(null,u))}):s?n(t):i()}),n._info=function(e){p().then(function(){D({},{method:"GET",url:_n(r,"")},function(t,u){if(t)return e(t);u.host=_n(r,""),e(null,u)})}).catch(e)},n.get=h("get",function(e,t,u){"function"==typeof t&&(u=t,t={});var n={};(t=_(t)).revs&&(n.revs=!0),t.revs_info&&(n.revs_info=!0),t.latest&&(n.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),n.open_revs=t.open_revs),t.rev&&(n.rev=t.rev),t.conflicts&&(n.conflicts=t.conflicts),t.update_seq&&(n.update_seq=t.update_seq),e=mn(e);var i={method:"GET",url:_n(r,e+xn(n))};function o(e){var u=e._attachments,n=u&&Object.keys(u);if(u&&n.length)return function(e,t){return new E(function(u,n){var r,i=0,o=0,a=0,s=e.length;function c(){++a===s?r?n(r):u():D()}function l(){i--,c()}function f(e){i--,r=r||e,c()}function D(){for(;i<t&&o<s;)i++,e[o++]().then(l,f)}D()})}(n.map(function(n){return function(){return function(n){var i=u[n],o=mn(e._id)+"/"+v(n)+"?rev="+e._rev;return d(t,{method:"GET",url:_n(r,o),binary:!0}).then(function(e){return t.binary?e:new E(function(t){$t(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}(n)}}),5)}d(t,i).then(function(e){return E.resolve().then(function(){if(t.attachments)return u=e,Array.isArray(u)?E.all(u.map(function(e){if(e.ok)return o(e.ok)})):o(u);var u}).then(function(){u(null,e)})}).catch(function(t){t.docId=e,u(t)})}),n.remove=h("remove",function(e,t,u,n){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof u&&(n=u,u={})):(i=e,"function"==typeof t?(n=t,u={}):(n=u,u=t));var o=i._rev||u.rev;D(u,{method:"DELETE",url:_n(r,mn(i._id))+"?rev="+o},n)}),n.getAttachment=h("getAttachment",function(e,t,u,n){"function"==typeof u&&(n=u,u={});var i=u.rev?"?rev="+u.rev:"";D(u,{method:"GET",url:_n(r,mn(e))+"/"+v(t)+i,binary:!0},n)}),n.removeAttachment=h("removeAttachment",function(e,t,u,n){D({},{method:"DELETE",url:_n(r,mn(e)+"/"+v(t))+"?rev="+u},n)}),n.putAttachment=h("putAttachment",function(e,t,u,n,i,o){"function"==typeof i&&(o=i,i=n,n=u,u=null);var s=mn(e)+"/"+v(t),c=_n(r,s);if(u&&(c+="?rev="+u),"string"==typeof n){var l;try{l=Tt(n)}catch(e){return o(le(te,"Attachment is not a valid base64 string"))}n=l?It(l,i):""}D({},{headers:{"Content-Type":i},method:"PUT",url:c,processData:!1,body:n,timeout:a.timeout||6e4},o)}),n._bulkDocs=function(e,t,u){e.new_edits=t.new_edits,p().then(function(){return E.all(e.docs.map(Bn))}).then(function(){D(t,{method:"POST",url:_n(r,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return u(e);t.forEach(function(e){e.ok=!0}),u(null,t)})}).catch(u)},n._put=function(e,t,u){p().then(function(){return Bn(e)}).then(function(){D(t,{method:"PUT",url:_n(r,mn(e._id)),body:e},function(t,n){if(t)return t.docId=e&&e._id,u(t);u(null,n)})}).catch(u)},n.allDocs=h("allDocs",function(e,t){"function"==typeof e&&(t=e,e={});var u,n={},i="GET";(e=_(e)).conflicts&&(n.conflicts=!0),e.update_seq&&(n.update_seq=!0),e.descending&&(n.descending=!0),e.include_docs&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.key&&(n.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(n.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(n.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(n.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(n.limit=e.limit),void 0!==e.skip&&(n.skip=e.skip);var o=xn(n);void 0!==e.keys&&(i="POST",u={keys:e.keys}),d(e,{method:i,url:_n(r,"_all_docs"+o),body:u}).then(function(u){e.include_docs&&e.attachments&&e.binary&&u.rows.forEach(yn),t(null,u)}).catch(t)}),n._changes=function(e){var t="batch_size"in e?e.batch_size:Fn;!(e=_(e)).continuous||"heartbeat"in e||(e.heartbeat=En);var u="timeout"in e?e.timeout:"timeout"in a?a.timeout:3e4;"timeout"in e&&e.timeout&&u-e.timeout<An&&(u=e.timeout+An),"heartbeat"in e&&e.heartbeat&&u-e.heartbeat<An&&(u=e.heartbeat+An);var n={};"timeout"in e&&e.timeout&&(n.timeout=e.timeout);var i,o=void 0!==e.limit&&e.limit;i="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var c=o;if(e.style&&(n.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.continuous&&(n.feed="longpoll"),e.seq_interval&&(n.seq_interval=e.seq_interval),e.conflicts&&(n.conflicts=!0),e.descending&&(n.descending=!0),e.update_seq&&(n.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(n.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(n.filter=e.filter),e.view&&"string"==typeof e.view&&(n.filter="_view",n.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var l in e.query_params)e.query_params.hasOwnProperty(l)&&(n[l]=e.query_params[l]);var f,d,h,v="GET";e.doc_ids?(n.filter="_doc_ids",v="POST",f={doc_ids:e.doc_ids}):e.selector&&(n.filter="_selector",v="POST",f={selector:e.selector});var F=function(i,a){if(!e.aborted){n.since=i,"object"==typeof n.since&&(n.since=JSON.stringify(n.since)),e.descending?o&&(n.limit=c):n.limit=!o||c>t?t:c;var s={method:v,url:_n(r,"_changes"+xn(n)),timeout:u,body:f};h=i,e.aborted||p().then(function(){d=D(e,s,a)}).catch(a)}},C={results:[]},A=function(u,n){if(!e.aborted){var r=0;if(n&&n.results){r=n.results.length,C.last_seq=n.last_seq;var a=null,l=null;"number"==typeof n.pending&&(a=n.pending),"string"!=typeof C.last_seq&&"number"!=typeof C.last_seq||(l=C.last_seq);e.query_params,n.results=n.results.filter(function(t){c--;var u=De(e)(t);return u&&(e.include_docs&&e.attachments&&e.binary&&yn(t),i&&C.results.push(t),e.onChange(t,a,l)),u})}else if(u)return e.aborted=!0,void e.complete(u);n&&n.last_seq&&(h=n.last_seq);var f=o&&c<=0||n&&r<t||e.descending;(!e.continuous||o&&c<=0)&&f?e.complete(null,C):s()(function(){F(h,A)})}};return F(e.since||0,A),{cancel:function(){e.aborted=!0,d&&d.abort()}}},n.revsDiff=h("revsDiff",function(e,t,u){"function"==typeof t&&(u=t,t={}),D(t,{method:"POST",url:_n(r,"_revs_diff"),body:e},u)}),n._close=function(e){e()},n._destroy=function(e,t){D(e,{url:_n(r,""),method:"DELETE"},function(e,u){if(e&&e.status&&404!==e.status)return t(e);t(null,u)})}}function Sn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function qn(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,qn)}catch(e){}}function On(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,On)}catch(e){}}function Tn(e,t){return t&&e.then(function(e){s()(function(){t(null,e)})},function(e){s()(function(){t(e)})}),e}function jn(e,t){return function(){var u=arguments,n=this;return e.add(function(){return t.apply(n,u)})}}function Ln(e){var t=new y(e),u=new Array(t.size),n=-1;return t.forEach(function(e){u[++n]=e}),u}function Rn(e){var t=new Array(e.size),u=-1;return e.forEach(function(e,n){t[++u]=n}),t}function In(e){return new On("builtin "+e+" function requires map values to be numbers or number arrays")}function Nn(e){for(var t=0,u=0,n=e.length;u<n;u++){var r=e[u];if("number"!=typeof r){if(!Array.isArray(r))throw In("_sum");t="number"==typeof t?[t]:t;for(var i=0,o=r.length;i<o;i++){var a=r[i];if("number"!=typeof a)throw In("_sum");void 0===t[i]?t.push(a):t[i]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}kn.valid=function(){return!0},f()(Sn,Error),f()(qn,Error),f()(On,Error);var Pn=H.bind(null,"log"),Mn=Array.isArray,Un=JSON.parse;function $n(e,t){return me("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Nn,log:Pn,isArray:Mn,toJSON:Un})}function Hn(){this.promise=new E(function(e){e()})}function Wn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Kn(e,t,u,n,r,i){var o,a=function(e,t){return Wn(e)+Wn(t)+"undefined"}(u,n);if(!r&&(o=e._cachedViews=e._cachedViews||{})[a])return o[a];var s=e.info().then(function(s){var c,l=s.db_name+"-mrview-"+(r?"temp":(c=a,F.a.hash(c)));return Be(e,"_local/"+i,function(e){e.views=e.views||{};var u=t;-1===u.indexOf("/")&&(u=t+"/"+t);var n=e.views[u]=e.views[u]||{};if(!n[l])return n[l]=!0,e}).then(function(){return e.registerDependentDatabase(l).then(function(t){var r=t.db;r.auto_compaction=!0;var i={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:u,reduceFun:n};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,o&&i.db.once("destroyed",function(){delete o[a]}),i})})})});return o&&(o[a]=s),s}Hn.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Hn.prototype.finish=function(){return this.promise};var Gn={},Vn=new Hn,zn=50;function Xn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Jn(e,t){try{e.emit("error",t)}catch(e){H("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),H("error",t)}}var Qn={_sum:function(e,t){return Nn(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:Nn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,u=0,n=e.length;u<n;u++){var r=e[u];t+=r*r}return t}(t)}}};var Yn=function(e,t,u,n){function r(e,t,u){try{t(u)}catch(t){Jn(e,t)}}function i(e,t,u,n,r){try{return{output:t(u,n,r)}}catch(t){return Jn(e,t),{error:t}}}function a(e,t){var u=ct(e.key,t.key);return 0!==u?u:ct(e.value,t.value)}function c(e,t,u){return u=u||0,"number"==typeof t?e.slice(u,t+u):u>0?e.slice(u):e}function l(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function f(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var u=t[e];t[e].data=Nt(u.data,u.content_type)})})}(t),t}}function D(e,t,u,n){var r=t[e];void 0!==r&&(n&&(r=encodeURIComponent(JSON.stringify(r))),u.push(e+"="+r))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e,t){var u=e.descending?"endkey":"startkey",n=e.descending?"startkey":"endkey";if(void 0!==e[u]&&void 0!==e[n]&&ct(e[u],e[n])>0)throw new Sn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new Sn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Sn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var u=function(e){if(e){if("number"!=typeof e)return new Sn('Invalid value for integer: "'+e+'"');if(e<0)return new Sn('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(u)throw u})}function p(e){return function(t){if(404===t.status)return e;throw t}}function v(e,t,u){var n="_local/doc_"+e,r={_id:n,keys:[]},i=u.get(e),o=i[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(i[1])?E.resolve(r):t.db.get(n).catch(p(r))).then(function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):E.resolve({rows:[]})}(e).then(function(t){return function(e,t){for(var u=[],n=new y,r=0,i=t.rows.length;r<i;r++){var a=t.rows[r].doc;if(a&&(u.push(a),n.add(a._id),a._deleted=!o.has(a._id),!a._deleted)){var s=o.get(a._id);"value"in s&&(a.value=s.value)}}var c=Rn(o);return c.forEach(function(e){if(!n.has(e)){var t={_id:e},r=o.get(e);"value"in r&&(t.value=r.value),u.push(t)}}),e.keys=Ln(c.concat(e.keys)),u.push(e),u}(e,t)})})}function F(e){var t="string"==typeof e?e:e.name,u=Gn[t];return u||(u=Gn[t]=new Hn),u}function C(e){return jn(F(e),function(){return function(e){var u,n,i=t(e.mapFun,function(e,t){var r={id:n._id,key:lt(e)};null!=t&&(r.value=lt(t)),u.push(r)}),o=e.seq||0;function s(t,u){return function(){return function(e,t,u){return e.db.get("_local/lastSeq").catch(p({_id:"_local/lastSeq",seq:0})).then(function(n){var r=Rn(t);return E.all(r.map(function(u){return v(u,e,t)})).then(function(t){var r=de(t);return n.seq=u,r.push(n),e.db.bulkDocs({docs:r})})})}(e,t,u)}}var c=new Hn;function l(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:o,limit:zn}).then(f)}function f(t){var f=t.results;if(f.length){var d=function(t){for(var s=new m,c=0,l=t.length;c<l;c++){var f=t[c];if("_"!==f.doc._id[0]){u=[],(n=f.doc)._deleted||r(e.sourceDB,i,n),u.sort(a);var d=D(u);s.set(f.doc._id,[d,f.changes])}o=f.seq}return s}(f);if(c.add(s(d,o)),!(f.length<zn))return l()}}function D(e){for(var t,u=new m,n=0,r=e.length;n<r;n++){var i=e[n],o=[i.key,i.id];n>0&&0===ct(i.key,t)&&o.push(n),u.set(Dt(o),i),t=i.key}return u}return l().then(function(){return c.finish()}).then(function(){e.seq=o})}(e)})()}function A(e,t){return jn(F(e),function(){return function(e,t){var n,r=e.reduceFun&&!1!==t.reduce,o=t.skip||0;function a(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return n=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),u=["id","key","value"];if(!(t<u||t>u))return e.doc.value}var n=function(e){for(var t=[],u=[],n=0;;){var r=e[n++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var i=dt(e,n);t.push(i.num),n+=i.length;break;case"4":for(var o="";;){var a=e[n];if("\0"===a)break;o+=a,n++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(o);break;case"5":var s={element:[],index:t.length};t.push(s.element),u.push(s);break;case"6":var c={element:{},index:t.length};t.push(c.element),u.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();ht(t,u)}}}(e.doc._id);return{key:n[0],id:n[1],value:"value"in e.doc?e.doc.value:null}})})}function s(a){var s;if(s=r?function(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=u(e.reduceFun),a=[],s=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=a[a.length-1],u=r?e.key:null;if(r&&Array.isArray(u)&&(u=u.slice(0,s)),t&&0===ct(t.groupKey,u))return t.keys.push([e.key,e.id]),void t.values.push(e.value);a.push({keys:[[e.key,e.id]],values:[e.value],groupKey:u})}),t=[];for(var l=0,f=a.length;l<f;l++){var D=a[l],d=i(e.sourceDB,o,D.keys,D.values,!1);if(d.error&&d.error instanceof On)throw d.error;t.push({value:d.error?null:d.output,key:D.groupKey})}return{rows:c(t,n.limit,n.skip)}}(e,a,t):{total_rows:n,offset:o,rows:a},t.update_seq&&(s.update_seq=e.seq),t.include_docs){var f=Ln(a.map(l));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new m;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),a.forEach(function(e){var u=l(e),n=t.get(u);n&&(e.doc=n)}),s})}return s}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var f=t.keys,D=f.map(function(e){var u={startkey:Dt([e]),endkey:Dt([e,{}])};return t.update_seq&&(u.update_seq=!0),a(u)});return E.all(D).then(de).then(s)}var d,h,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(d=t.start_key),"startkey"in t&&(d=t.startkey),"end_key"in t&&(h=t.end_key),"endkey"in t&&(h=t.endkey),void 0!==d&&(p.startkey=t.descending?Dt([d,{}]):Dt([d])),void 0!==h){var v=!1!==t.inclusive_end;t.descending&&(v=!v),p.endkey=Dt(v?[h,{}]:[h])}if(void 0!==t.key){var F=Dt([t.key]),C=Dt([t.key,{}]);p.descending?(p.endkey=F,p.startkey=C):(p.startkey=F,p.endkey=C)}return r||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=o),a(p).then(s)}(e,t)})()}function g(t,u,r){if("function"==typeof t._query)return function(e,t,u){return new E(function(n,r){e._query(t,u,function(e,t){if(e)return r(e);n(t)})})}(t,u,r);if(pe(t))return function(e,t,u){var n,r=[],i="GET";if(D("reduce",u,r),D("include_docs",u,r),D("attachments",u,r),D("limit",u,r),D("descending",u,r),D("group",u,r),D("group_level",u,r),D("skip",u,r),D("stale",u,r),D("conflicts",u,r),D("startkey",u,r,!0),D("start_key",u,r,!0),D("endkey",u,r,!0),D("end_key",u,r,!0),D("inclusive_end",u,r),D("key",u,r,!0),D("update_seq",u,r),r=""===(r=r.join("&"))?"":"?"+r,void 0!==u.keys){var o="keys="+encodeURIComponent(JSON.stringify(u.keys));o.length+r.length+1<=2e3?r+=("?"===r[0]?"&":"?")+o:(i="POST","string"==typeof t?n={keys:u.keys}:t.keys=u.keys)}if("string"==typeof t){var a=Xn(t);return e.request({method:i,url:"_design/"+a[0]+"/_view/"+a[1]+r,body:n}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(f(u))}return n=n||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?n[e]=t[e]:n[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+r,body:n}).then(f(u))}(t,u,r);if("string"!=typeof u)return h(r,u),Vn.add(function(){return Kn(t,"temp_view/temp_view",u.map,u.reduce,!0,e).then(function(e){return t=C(e).then(function(){return A(e,r)}),u=function(){return e.db.destroy()},t.then(function(e){return u().then(function(){return e})},function(e){return u().then(function(){throw e})});var t,u})}),Vn.finish();var i=u,o=Xn(i),a=o[0],c=o[1];return t.get("_design/"+a).then(function(u){var o=u.views&&u.views[c];if(!o)throw new qn("ddoc "+u._id+" has no view named "+c);return n(u,c),h(r,o),Kn(t,i,o.map,o.reduce,!1,e).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&s()(function(){C(e)}),A(e,r)):C(e).then(function(){return A(e,r)})})})}var B;return{query:function(e,t,u){var n=this;"function"==typeof t&&(u=t,t={}),t=t?function(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=E.resolve().then(function(){return g(n,e,t)});return Tn(r,u),r},viewCleanup:(B=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new E(function(t,u){e._viewCleanup(function(e,n){if(e)return u(e);t(n)})})}(t):pe(t)?function(e){return e.request({method:"POST",url:"_view_cleanup"})}(t):function(t){return t.get("_local/"+e).then(function(e){var u=new m;Object.keys(e.views).forEach(function(e){var t=Xn(e),n="_design/"+t[0],r=t[1],i=u.get(n);i||(i=new y,u.set(n,i)),i.add(r)});var n={keys:Rn(u),include_docs:!0};return t.allDocs(n).then(function(n){var r={};n.rows.forEach(function(t){var n=t.key.substring(8);u.get(t.key).forEach(function(u){var i=n+"/"+u;e.views[i]||(i=u);var o=Object.keys(e.views[i]),a=t.doc&&t.doc.views&&t.doc.views[u];o.forEach(function(e){r[e]=r[e]||a})})});var i=Object.keys(r).filter(function(e){return!r[e]}).map(function(e){return jn(F(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return E.all(i).then(function(){return{ok:!0}})})},p({ok:!0}))}(t)},o()(function(e){var t=e.pop(),u=B.apply(this,e);return"function"==typeof t&&Tn(u,t),u}))}}("mrviews",function(e,t){if("function"==typeof e&&2===e.length){var u=e;return function(e){return u(e,t)}}return $n(e.toString(),t)},function(e){var t=e.toString(),u=function(e){if(/^_sum/.test(e))return Qn._sum;if(/^_count/.test(e))return Qn._count;if(/^_stats/.test(e))return Qn._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return u||$n(t)},function(e,t){var u=e.views&&e.views[t];if("string"!=typeof u.map)throw new qn("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof u.map)});var Zn={query:function(e,t,u){return Yn.query.call(this,e,t,u)},viewCleanup:function(e){return Yn.viewCleanup.call(this,e)}};function er(e){return/^1-/.test(e)}function tr(e,t){var u=Object.keys(t._attachments);return E.all(u.map(function(u){return e.getAttachment(t._id,u,{rev:t._rev})}))}function ur(e,t,u,n){u=_(u);var r=[],i=!0;function o(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(n.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){var t;e.deleted||!e.doc||!er(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete u[e.id])})})}return E.resolve().then(function(){var e=Object.keys(u).filter(function(e){var t=u[e].missing;return 1===t.length&&er(t[0])});if(e.length>0)return o(e)}).then(function(){var o=function(e){var t=[];return Object.keys(e).forEach(function(u){e[u].missing.forEach(function(e){t.push({id:u,rev:e})})}),{docs:t,revs:!0,latest:!0}}(u);if(o.docs.length)return e.bulkGet(o).then(function(u){if(n.cancelled)throw new Error("cancelled");return E.all(u.results.map(function(u){return E.all(u.docs.map(function(u){var n=u.ok;return u.error&&(i=!1),n&&n._attachments?function(e,t,u){var n=pe(t)&&!pe(e),r=Object.keys(u._attachments);return n?e.get(u._id).then(function(n){return E.all(r.map(function(r){return function(e,t,u){return!e._attachments||!e._attachments[u]||e._attachments[u].digest!==t._attachments[u].digest}(n,u,r)?t.getAttachment(u._id,r):e.getAttachment(n._id,r)}))}).catch(function(e){if(404!==e.status)throw e;return tr(t,u)}):tr(t,u)}(t,e,n).then(function(e){var t=Object.keys(n._attachments);return e.forEach(function(e,u){var r=n._attachments[t[u]];delete r.stub,delete r.length,r.data=e}),n}):n}))})).then(function(e){r=r.concat(de(e).filter(Boolean))})})}).then(function(){return{ok:i,docs:r}})}var nr=1,rr="pouchdb",ir=5,or=0;function ar(e,t,u,n,r){return e.get(t).catch(function(u){if(404===u.status)return"http"!==e.adapter&&"https"!==e.adapter||K(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:t,history:[],replicator:rr,version:nr};throw u}).then(function(i){if(!r.cancelled&&i.last_seq!==u)return i.history=(i.history||[]).filter(function(e){return e.session_id!==n}),i.history.unshift({last_seq:u,session_id:n}),i.history=i.history.slice(0,ir),i.version=nr,i.replicator=rr,i.session_id=n,i.last_seq=u,e.put(i).catch(function(i){if(409===i.status)return ar(e,t,u,n,r);throw i})})}function sr(e,t,u,n,r){this.src=e,this.target=t,this.id=u,this.returnValue=n,this.opts=r||{}}sr.prototype.writeCheckpoint=function(e,t){var u=this;return this.updateTarget(e,t).then(function(){return u.updateSource(e,t)})},sr.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?ar(this.target,this.id,e,t,this.returnValue):E.resolve(!0)},sr.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var u=this;return ar(this.src,this.id,e,t,this.returnValue).catch(function(e){if(fr(e))return u.opts.writeSourceCheckpoint=!1,!0;throw e})}return E.resolve(!0)};var cr={undefined:function(e,t){return 0===ct(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,u){var n=t[0];var r=t.slice(1);var i=u[0];var o=u.slice(1);if(!n||0===u.length)return{last_seq:or,history:[]};var a=n.session_id;if(lr(a,u))return{last_seq:n.last_seq,history:t};var s=i.session_id;if(lr(s,r))return{last_seq:i.last_seq,history:o};return e(r,o)}(e.history,t.history)}(t,e).last_seq}};function lr(e,t){var u=t[0],n=t.slice(1);return!(!e||0===t.length)&&(e===u.session_id||lr(e,n))}function fr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}sr.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(e){return e.last_seq||or}).catch(function(e){if(404!==e.status)throw e;return or}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||or:e.src.get(e.id).then(function(e){return t.version!==e.version?or:(u=t.version?t.version.toString():"undefined")in cr?cr[u](t,e):or;var u},function(u){if(404===u.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:or}).then(function(){return or},function(u){return fr(u)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):or});throw u})}).catch(function(e){if(404!==e.status)throw e;return or})};var Dr=0;function dr(e,t,u){var n=u.doc_ids?u.doc_ids.sort(ct):"",r=u.filter?u.filter.toString():"",i="",o="",a="";return u.selector&&(a=JSON.stringify(u.selector)),u.filter&&u.query_params&&(i=JSON.stringify(function(e){return Object.keys(e).sort(ct).reduce(function(t,u){return t[u]=e[u],t},{})}(u.query_params))),u.filter&&"_view"===u.filter&&(o=u.view.toString()),E.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+r+o+i+n+a;return new E(function(e){zt(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function hr(e,t,u,n,r){var i,o,a,s=[],c={seq:0,changes:[],docs:[]},l=!1,f=!1,D=!1,d=0,h=u.continuous||u.live||!1,p=u.batch_size||100,v=u.batches_limit||10,F=!1,C=u.doc_ids,A=u.selector,g=[],y=_e(),m=u.seq_interval;r=r||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var B={};function b(){return a?E.resolve():dr(e,t,u).then(function(r){o=r;var i={};i=!1===u.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===u.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===u.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},a=new sr(e,t,o,n,i)})}function w(){if(g=[],0!==i.docs.length){var e=i.docs,o={timeout:u.timeout};return t.bulkDocs({docs:e,new_edits:!1},o).then(function(t){if(n.cancelled)throw T(),new Error("cancelled");var u=Object.create(null);t.forEach(function(e){e.error&&(u[e.id]=e)});var i=Object.keys(u).length;r.doc_write_failures+=i,r.docs_written+=e.length-i,e.forEach(function(e){var t=u[e._id];if(t){r.errors.push(t);var i=(t.name||"").toLowerCase();if("unauthorized"!==i&&"forbidden"!==i)throw t;n.emit("denied",_(t))}else g.push(e)})},function(t){throw r.doc_write_failures+=e.length,t})}}function x(){if(i.error)throw new Error("There was a problem getting docs.");r.last_seq=d=i.seq;var e=_(r);return g.length&&(e.docs=g,"number"==typeof i.pending&&(e.pending=i.pending,delete i.pending),n.emit("change",e)),l=!0,a.writeCheckpoint(i.seq,y).then(function(){if(l=!1,n.cancelled)throw T(),new Error("cancelled");i=void 0,I()}).catch(function(e){throw P(e),e})}function k(){return ur(e,t,i.diffs,n).then(function(e){i.error=!e.ok,e.docs.forEach(function(e){delete i.diffs[e._id],r.docs_read++,i.docs.push(e)})})}function S(){var e;n.cancelled||i||(0!==s.length?(i=s.shift(),(e={},i.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(n.cancelled)throw T(),new Error("cancelled");i.diffs=e})).then(k).then(w).then(x).then(S).catch(function(e){O("batch processing terminated with error",e)})):q(!0))}function q(e){0!==c.changes.length?(e||f||c.changes.length>=p)&&(s.push(c),c={seq:0,changes:[],docs:[]},"pending"!==n.state&&"stopped"!==n.state||(n.state="active",n.emit("active")),S()):0!==s.length||i||((h&&B.live||f)&&(n.state="pending",n.emit("paused")),f&&T())}function O(e,t){D||(t.message||(t.message=e),r.ok=!1,r.status="aborting",s=[],c={seq:0,changes:[],docs:[]},T(t))}function T(i){if(!(D||n.cancelled&&(r.status="cancelled",l)))if(r.status=r.status||"complete",r.end_time=new Date,r.last_seq=d,D=!0,i){(i=le(i)).result=r;var o=(i.name||"").toLowerCase();"unauthorized"===o||"forbidden"===o?(n.emit("error",i),n.removeAllListeners()):function(e,t,u,n){if(!1===e.retry)return t.emit("error",u),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=W),t.emit("requestError",u),"active"===t.state||"pending"===t.state){t.emit("paused",u),t.state="stopped";var r=function(){e.current_back_off=Dr};t.once("paused",function(){t.removeListener("active",r)}),t.once("active",r)}e.current_back_off=e.current_back_off||Dr,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}(u,n,i,function(){hr(e,t,u,n)})}else n.emit("complete",r),n.removeAllListeners()}function j(e,t,r){if(n.cancelled)return T();"number"==typeof t&&(c.pending=t),De(u)(e)&&(c.seq=e.seq||r,c.changes.push(e),q(0===s.length&&B.live))}function L(e){if(F=!1,n.cancelled)return T();if(e.results.length>0)B.since=e.last_seq,I(),q(!0);else{var t=function(){h?(B.live=!0,I()):f=!0,q(!0)};i||0!==e.results.length?t():(l=!0,a.writeCheckpoint(e.last_seq,y).then(function(){l=!1,r.last_seq=d=e.last_seq,t()}).catch(P))}}function R(e){if(F=!1,n.cancelled)return T();O("changes rejected",e)}function I(){if(!F&&!f&&s.length<v){F=!0,n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",r);var t=e.changes(B).on("change",j);t.then(i,i),t.then(L).catch(R),u.retry&&(n._changes=t,n._abortChanges=r)}function r(){t.cancel()}function i(){n.removeListener("cancel",r)}}function N(){b().then(function(){if(!n.cancelled)return a.getCheckpoint().then(function(e){B={since:d=e,limit:p,batch_size:p,style:"all_docs",doc_ids:C,selector:A,return_docs:!0},!1!==m&&(B.seq_interval=m||p),u.filter&&("string"!=typeof u.filter?B.include_docs=!0:B.filter=u.filter),"heartbeat"in u&&(B.heartbeat=u.heartbeat),"timeout"in u&&(B.timeout=u.timeout),u.query_params&&(B.query_params=u.query_params),u.view&&(B.view=u.view),I()});T()}).catch(function(e){O("getCheckpoint rejected with ",e)})}function P(e){l=!1,O("writeCheckpoint completed with error",e)}n.ready(e,t),n.cancelled?T():(n._addedListeners||(n.once("cancel",T),"function"==typeof u.complete&&(n.once("error",u.complete),n.once("complete",function(e){u.complete(null,e)})),n._addedListeners=!0),void 0===u.since?N():b().then(function(){return l=!0,a.writeCheckpoint(u.since,y)}).then(function(){l=!1,n.cancelled?T():(d=u.since,N())}).catch(P))}function pr(){c.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new E(function(t,u){e.once("complete",t),e.once("error",u)});e.then=function(e,u){return t.then(e,u)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function vr(e,t){var u=t.PouchConstructor;return"string"==typeof e?new u(e,t):e}function Fr(e,t,u,n){if("function"==typeof u&&(n=u,u={}),void 0===u&&(u={}),u.doc_ids&&!Array.isArray(u.doc_ids))throw le(re,"`doc_ids` filter parameter is not a list.");u.complete=n,(u=_(u)).continuous=u.continuous||u.live,u.retry="retry"in u&&u.retry,u.PouchConstructor=u.PouchConstructor||this;var r=new pr(u);return hr(vr(e,u),vr(t,u),u,r),r}function Cr(e,t,u,n){return"function"==typeof u&&(n=u,u={}),void 0===u&&(u={}),(u=_(u)).PouchConstructor=u.PouchConstructor||this,new Ar(e=vr(e,u),t=vr(t,u),u,n)}function Ar(e,t,u,n){var r=this;this.canceled=!1;var i=u.push?G({},u,u.push):u,o=u.pull?G({},u,u.pull):u;function a(e){r.emit("change",{direction:"pull",change:e})}function s(e){r.emit("change",{direction:"push",change:e})}function c(e){r.emit("denied",{direction:"push",doc:e})}function l(e){r.emit("denied",{direction:"pull",doc:e})}function f(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function D(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function d(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function h(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=Fr(e,t,i),this.pull=Fr(t,e,o),this.pushPaused=!0,this.pullPaused=!0;var p={};function v(e){return function(t,u){("change"===t&&(u===a||u===s)||"denied"===t&&(u===l||u===c)||"paused"===t&&(u===D||u===f)||"active"===t&&(u===h||u===d))&&(t in p||(p[t]={}),p[t][e]=!0,2===Object.keys(p[t]).length&&r.removeAllListeners(t))}}function F(e,t,u){-1==e.listeners(t).indexOf(u)&&e.on(t,u)}u.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",function(e){"change"===e?(F(r.pull,"change",a),F(r.push,"change",s)):"denied"===e?(F(r.pull,"denied",l),F(r.push,"denied",c)):"active"===e?(F(r.pull,"active",h),F(r.push,"active",d)):"paused"===e&&(F(r.pull,"paused",D),F(r.push,"paused",f))}),this.on("removeListener",function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",s)):"denied"===e?(r.pull.removeListener("denied",l),r.push.removeListener("denied",c)):"active"===e?(r.pull.removeListener("active",h),r.push.removeListener("active",d)):"paused"===e&&(r.pull.removeListener("paused",D),r.push.removeListener("paused",f))}),this.pull.on("removeListener",v("pull")),this.push.on("removeListener",v("push"));var C=E.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),n&&n(null,t),r.removeAllListeners(),t},function(e){if(r.cancel(),n?n(e):r.emit("error",e),r.removeAllListeners(),n)throw e});this.then=function(e,t){return C.then(e,t)},this.catch=function(e){return C.catch(e)}}f()(pr,c.EventEmitter),pr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},pr.prototype.ready=function(e,t){var u=this;function n(){u.cancel()}u._readyCalled||(u._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),u.once("complete",function(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}))},f()(Ar,c.EventEmitter),Ar.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ye.plugin(function(e){e.adapter("idb",Su,!0)}).plugin(function(e){e.adapter("websql",fn,!0)}).plugin(function(e){e.adapter("http",kn,!1),e.adapter("https",kn,!1)}).plugin(Zn).plugin(function(e){e.replicate=Fr,e.sync=Cr,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,u,n){return e.constructor.replicate(t,e,u,n)},to:function(t,u,n){return e.constructor.replicate(e,t,u,n)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,u){return this.constructor.sync(this,e,t,u)}}),t.a=Ye}).call(this,u(13))},function(e,t,u){var n=u(31),r=u(32),i=r;i.v1=n,i.v4=r,e.exports=i},function(e,t,u){(function(n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(t=e.exports=u(34)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var u=this.useColors;if(e[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+e[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!u)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())}).call(this,u(33))},function(e,t,u){"use strict";function n(e,t,u){var n=u[u.length-1];e===n.element&&(u.pop(),n=u[u.length-1]);var r=n.element,i=n.index;if(Array.isArray(r))r.push(e);else if(i===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var u,n,r,i,o,a,s,c,l,f,D="";u=t.pop();)if(n=u.obj,D+=u.prefix||"",r=u.val||"")D+=r;else if("object"!=typeof n)D+=void 0===n?null:JSON.stringify(n);else if(null===n)D+="null";else if(Array.isArray(n)){for(t.push({val:"]"}),i=n.length-1;i>=0;i--)o=0===i?"":",",t.push({obj:n[i],prefix:o});t.push({val:"["})}else{for(s in a=[],n)n.hasOwnProperty(s)&&a.push(s);for(t.push({val:"}"}),i=a.length-1;i>=0;i--)l=n[c=a[i]],f=i>0?",":"",f+=JSON.stringify(c)+":",t.push({obj:l,prefix:f});t.push({val:"{"})}return D},t.parse=function(e){for(var t,u,r,i,o,a,s,c,l,f=[],D=[],d=0;;)if("}"!==(t=e[d++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,n(null,f,D);break;case"t":d+=3,n(!0,f,D);break;case"f":d+=4,n(!1,f,D);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(u="",d--;;){if(r=e[d++],!/[\d\.\-e\+]/.test(r)){d--;break}u+=r}n(parseFloat(u),f,D);break;case'"':for(i="",o=void 0,a=0;'"'!==(s=e[d++])||"\\"===o&&a%2==1;)i+=s,"\\"===(o=s)?a++:a=0;n(JSON.parse('"'+i+'"'),f,D);break;case"[":c={element:[],index:f.length},f.push(c.element),D.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),D.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();n(f.pop(),f,D)}}},function(e,t,u){(function(t){e.exports=t.Mustache=u(38)}).call(this,u(13))},function(e,t){var u="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(u){var n=new Uint8Array(16);e.exports=function(){return u(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var u=[],n=0;n<256;++n)u[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=u;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}},function(e,t,u){"use strict";var n=u(8);function r(){}var i={},o=["REJECTED"],a=["FULFILLED"],s=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==r&&d(this,e)}function l(e,t,u){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof u&&(this.onRejected=u,this.callRejected=this.otherCallRejected)}function f(e,t,u){n(function(){var n;try{n=t(u)}catch(t){return i.reject(e,t)}n===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,n)})}function D(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var u=!1;function n(t){u||(u=!0,i.reject(e,t))}function r(t){u||(u=!0,i.resolve(e,t))}var o=h(function(){t(r,n)});"error"===o.status&&n(o.value)}function h(e,t){var u={};try{u.value=e(t),u.status="success"}catch(e){u.status="error",u.value=e}return u}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===o)return this;var u=new this.constructor(r);this.state!==s?f(u,this.state===a?e:t,this.outcome):this.queue.push(new l(u,e,t));return u},l.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){i.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},i.resolve=function(e,t){var u=h(D,t);if("error"===u.status)return i.reject(e,u.value);var n=u.value;if(n)d(e,n);else{e.state=a,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},i.reject=function(e,t){e.state=o,e.outcome=t;for(var u=-1,n=e.queue.length;++u<n;)e.queue[u].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return i.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var u=e.length,n=!1;if(!u)return this.resolve([]);var o=new Array(u),a=0,s=-1,c=new this(r);for(;++s<u;)l(e[s],s);return c;function l(e,r){t.resolve(e).then(function(e){o[r]=e,++a!==u||n||(n=!0,i.resolve(c,o))},function(e){n||(n=!0,i.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var u=e.length,n=!1;if(!u)return this.resolve([]);var o=-1,a=new this(r);for(;++o<u;)s=e[o],t.resolve(s).then(function(e){n||(n=!0,i.resolve(a,e))},function(e){n||(n=!0,i.reject(a,e))});var s;return a}},function(e,t,u){var n=u(2),r=u(15),i=u(36),o=u(37);function a(t){var u="function"==typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==u){if(u.has(e))return u.get(e);u.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},a(t)}e.exports=a},function(e,t,u){var n=function(){return this||"object"==typeof self&&self}()||Function("return this")(),r=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=r&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=u(28),r)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var u,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",c="object"==typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=E;var f="suspendedStart",D="suspendedYield",d="executing",h="completed",p={},v={};v[o]=function(){return this};var F=Object.getPrototypeOf,C=F&&F(F(q([])));C&&C!==n&&r.call(C,o)&&(v=C);var A=B.prototype=y.prototype=Object.create(v);m.prototype=A.constructor=B,B.constructor=m,B[s]=m.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,B):(e.__proto__=B,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(A),e},l.awrap=function(e){return{__await:e}},b(_.prototype),_.prototype[a]=function(){return this},l.AsyncIterator=_,l.async=function(e,t,u,n){var r=new _(E(e,t,u,n));return l.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(A),A[s]="Generator",A[o]=function(){return this},A.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var u in e)t.push(u);return t.reverse(),function u(){for(;t.length;){var n=t.pop();if(n in e)return u.value=n,u.done=!1,u}return u.done=!0,u}},l.values=q,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=u),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var u=this.tryEntries.length-1;u>=0;--u){var n=this.tryEntries[u];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t];if(u.finallyLoc===e)return this.complete(u.completion,u.afterLoc),k(u),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t];if(u.tryLoc===e){var n=u.completion;if("throw"===n.type){var r=n.arg;k(u)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:q(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),p}}}function E(e,t,u,n){var r=t&&t.prototype instanceof y?t:y,i=Object.create(r.prototype),o=new S(n||[]);return i._invoke=function(e,t,u){var n=f;return function(r,i){if(n===d)throw new Error("Generator is already running");if(n===h){if("throw"===r)throw i;return O()}for(u.method=r,u.arg=i;;){var o=u.delegate;if(o){var a=w(o,u);if(a){if(a===p)continue;return a}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(n===f)throw n=h,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);n=d;var s=g(e,t,u);if("normal"===s.type){if(n=u.done?h:D,s.arg===p)continue;return{value:s.arg,done:u.done}}"throw"===s.type&&(n=h,u.method="throw",u.arg=s.arg)}}}(e,u,o),i}function g(e,t,u){try{return{type:"normal",arg:e.call(t,u)}}catch(e){return{type:"throw",arg:e}}}function y(){}function m(){}function B(){}function b(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function _(e){var t;this._invoke=function(u,n){function i(){return new Promise(function(t,i){!function t(u,n,i,o){var a=g(e[u],e,n);if("throw"!==a.type){var s=a.arg,c=s.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},function(e){return t("throw",e,i,o)})}o(a.arg)}(u,n,t,i)})}return t=t?t.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(n===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,w(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=g(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function q(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:u,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t){function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?e.exports=n=function(e){return u(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)},n(t)}e.exports=n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return Sandbox});var _SandboxException_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17);class Sandbox{constructor(e=null,t=null){this.globalContext=t||{},this.dom=e||document,this.superDetectRegex=/super\.([^(]+)(\(?)/gm,this.ownerDocDetectRegex=/.ownerDocument/gm,this.domProxy=new Proxy(this.dom,{get:function(e,t){if("body"==t)return e;if("rootNode"==t)return e;var u;if(u="nodeName"==t||"nodeType"==t||"ownerDocument"==t||"parentElement"==t||"parentNode"==t?document[t]:t in e?e[t]:document[t],!(t in e)&&u instanceof Function)u=function(e){for(var t=[],u=0;u+1<arguments.length;u++)t[u]=arguments[u+1];return e.apply(this,t)}.bind(document,u);else if(u instanceof Function){var n=function(e){for(var t=[],u=0;u+1<arguments.length;u++)t[u]=arguments[u+1];return e.apply(this,t)}.bind(e,u);u="getElementsByTagName"==t?function(e,t){return"body"==t?[this]:e.call(this,t)}.bind(e,n):n}return u}.bind(document),set:function(e,t,u){return function(){this[t]=u}.bind(e)(),!0}}),this.globalContextProxy=new Proxy(this.globalContext,{get:function(e,t,u){if("document"==u)return e.domProxy;var n=u in t?t[u]:window[u];return!(u in t)&&n instanceof Function&&(n=function(e){for(var t=[],u=0;u+1<arguments.length;u++)t[u]=arguments[u+1];return e.apply(this,t)}.bind(window,n)),n}.bind(window,this)})}execCode(code,newcontext=this.globalContext){return code=code.replace(this.ownerDocDetectRegex,".s_ownerDocument"),function(window,document,code){var globalScopeInit="",regularVariableNameRegex=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])*$/;for(var x in window)regularVariableNameRegex.test(x)&&(globalScopeInit+="var "+x+' = window["'+x+'"];');return Node.prototype.s_ownerDocument=document,eval(globalScopeInit+code)}.bind(newcontext)(this.globalContextProxy,this.domProxy,code)}execFunction(func,args,newcontext=this.globalContext){if(!(func instanceof Function)&&"function"!=typeof func)throw new _SandboxException_js__WEBPACK_IMPORTED_MODULE_0__.a("Object passed is not a function");return function(window,document,owDocRegEx,func,args){var globalScopeInit="",regularVariableNameRegex=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])*$/;for(var x in window)regularVariableNameRegex.test(x)&&(globalScopeInit+="var "+x+' = window["'+x+'"];');var func_str=func.toString();return func_str.startsWith("function")||(func_str="function "+func_str),Node.prototype.s_ownerDocument=document,func_str=func_str.replace(owDocRegEx,".s_ownerDocument"),eval(globalScopeInit+"("+func_str+".bind(this)).apply(this,args)")}.bind(newcontext)(this.globalContextProxy,this.domProxy,this.ownerDocDetectRegex,func,args)}execMethod(meth,args,obj){if(!(obj[meth]instanceof Function)&&"function"!=typeof obj[meth])throw new _SandboxException_js__WEBPACK_IMPORTED_MODULE_0__.a(meth+" is not a method");var func_str=obj[meth].toString();return func_str.startsWith("function")||(func_str="function "+func_str),func_str=func_str.replace(this.superDetectRegex,function(e,t,u){return"__super__."+t+".bind(this)"+u}),func_str=func_str.replace(this.ownerDocDetectRegex,".s_ownerDocument"),function(window,document,func_str,args){var globalScopeInit="",regularVariableNameRegex=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])*$/;for(var x in window)regularVariableNameRegex.test(x)&&(globalScopeInit+="var "+x+' = window["'+x+'"];');globalScopeInit+="var __super__ = Object.getPrototypeOf(Object.getPrototypeOf(this));";var indx=func_str.indexOf("{")+1;return Node.prototype.s_ownerDocument=document,eval("("+[func_str.slice(0,indx),globalScopeInit,func_str.slice(indx)].join("")+").apply(this,args)")}.bind(obj)(this.globalContextProxy,this.domProxy,func_str,args)}}},function(e,t,u){var n,r,i=u(23),o=u(24),a=0,s=0;e.exports=function(e,t,u){var c=t&&u||0,l=t||[],f=(e=e||{}).node||n,D=void 0!==e.clockseq?e.clockseq:r;if(null==f||null==D){var d=i();null==f&&(f=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==D&&(D=r=16383&(d[6]<<8|d[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:s+1,v=h-a+(p-s)/1e4;if(v<0&&void 0===e.clockseq&&(D=D+1&16383),(v<0||h>a)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,s=p,r=D;var F=(1e4*(268435455&(h+=122192928e5))+p)%4294967296;l[c++]=F>>>24&255,l[c++]=F>>>16&255,l[c++]=F>>>8&255,l[c++]=255&F;var C=h/4294967296*1e4&268435455;l[c++]=C>>>8&255,l[c++]=255&C,l[c++]=C>>>24&15|16,l[c++]=C>>>16&255,l[c++]=D>>>8|128,l[c++]=255&D;for(var A=0;A<6;++A)l[c+A]=f[A];return t||o(l)}},function(e,t,u){var n=u(23),r=u(24);e.exports=function(e,t,u){var i=t&&u||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[i+a]=o[a];return t||r(o)}},function(e,t){var u,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(e){u=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,c=[],l=!1,f=-1;function D(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=a(D);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)t[u-1]=arguments[u];c.push(new h(e,t)),1!==c.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,u){function n(e){var u;function n(){if(n.enabled){var e=n,r=+new Date,i=r-(u||r);e.diff=i,e.prev=u,e.curr=r,u=r;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(u,n){if("%%"===u)return u;s++;var r=t.formatters[n];if("function"==typeof r){var i=o[s];u=r.call(e,i),o.splice(s,1),s--}return u}),t.formatArgs.call(e,o),(n.log||t.log||console.log.bind(console)).apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var u,n=0;for(u in e)n=(n<<5)-n+e.charCodeAt(u),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=r,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var u;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(u=0;u<r;u++)n[u]&&("-"===(e=n[u].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(u=0;u<t.instances.length;u++){var i=t.instances[u];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var u,n;for(u=0,n=t.skips.length;u<n;u++)if(t.skips[u].test(e))return!1;for(u=0,n=t.names.length;u<n;u++)if(t.names[u].test(e))return!0;return!1},t.humanize=u(35),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var u=1e3,n=60*u,r=60*n,i=24*r,o=365.25*i;function a(e,t,u){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+u:Math.ceil(e/t)+" "+u+"s"}e.exports=function(e,t){t=t||{};var s,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*o;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?a(s=e,i,"day")||a(s,r,"hour")||a(s,n,"minute")||a(s,u,"second")||s+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=u)return Math.round(e/u)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,u){var n=u(15);function r(t,u,i){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=r=function(e,t,u){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return u&&n(i,u.prototype),i}:e.exports=r=Reflect.construct,r.apply(null,arguments)}e.exports=r},function(e,t,u){var n,r,i,o;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
o=function(e){var t=Object.prototype.toString,u=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test,a=/\S/;function s(e){return!function(e,t){return o.call(e,t)}(a,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,f=/\s+/,D=/\s*=/,d=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function p(e){this.string=e,this.tail=e,this.pos=0}function v(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function F(){this.cache={}}p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var u=t[0];return this.tail=this.tail.substring(u.length),this.pos+=u.length,u},p.prototype.scanUntil=function(e){var t,u=this.tail.search(e);switch(u){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,u),this.tail=this.tail.substring(u)}return this.pos+=t.length,t},v.prototype.push=function(e){return new v(e,this)},v.prototype.lookup=function(e){var t,u=this.cache;if(u.hasOwnProperty(e))t=u[e];else{for(var r,o,a=this,s=!1;a;){if(e.indexOf(".")>0)for(t=a.view,r=e.split("."),o=0;null!=t&&o<r.length;)o===r.length-1&&(s=i(t,r[o])),t=t[r[o++]];else t=a.view[e],s=i(a.view,e);if(s)break;a=a.parent}u[e]=t}return n(t)&&(t=t.call(this.view)),t},F.prototype.clearCache=function(){this.cache={}},F.prototype.parse=function(t,n){var i=this.cache,o=i[t];return null==o&&(o=i[t]=function(t,n){if(!t)return[];var i,o,a,c=[],v=[],F=[],C=!1,A=!1;function E(){if(C&&!A)for(;F.length;)delete v[F.pop()];else F=[];C=!1,A=!1}function g(e){if("string"==typeof e&&(e=e.split(f,2)),!u(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(r(e[0])+"\\s*"),o=new RegExp("\\s*"+r(e[1])),a=new RegExp("\\s*"+r("}"+e[1]))}g(n||e.tags);for(var y,m,B,b,_,w,x=new p(t);!x.eos();){if(y=x.pos,B=x.scanUntil(i))for(var k=0,S=B.length;k<S;++k)s(b=B.charAt(k))?F.push(v.length):A=!0,v.push(["text",b,y,y+1]),y+=1,"\n"===b&&E();if(!x.scan(i))break;if(C=!0,m=x.scan(h)||"name",x.scan(l),"="===m?(B=x.scanUntil(D),x.scan(D),x.scanUntil(o)):"{"===m?(B=x.scanUntil(a),x.scan(d),x.scanUntil(o),m="&"):B=x.scanUntil(o),!x.scan(o))throw new Error("Unclosed tag at "+x.pos);if(_=[m,B,y,x.pos],v.push(_),"#"===m||"^"===m)c.push(_);else if("/"===m){if(!(w=c.pop()))throw new Error('Unopened section "'+B+'" at '+y);if(w[1]!==B)throw new Error('Unclosed section "'+w[1]+'" at '+y)}else"name"===m||"{"===m||"&"===m?A=!0:"="===m&&g(B)}if(w=c.pop())throw new Error('Unclosed section "'+w[1]+'" at '+x.pos);return function(e){for(var t,u=[],n=u,r=[],i=0,o=e.length;i<o;++i)switch((t=e[i])[0]){case"#":case"^":n.push(t),r.push(t),n=t[4]=[];break;case"/":r.pop()[5]=t[2],n=r.length>0?r[r.length-1][4]:u;break;default:n.push(t)}return u}(function(e){for(var t,u,n=[],r=0,i=e.length;r<i;++r)(t=e[r])&&("text"===t[0]&&u&&"text"===u[0]?(u[1]+=t[1],u[3]=t[3]):(n.push(t),u=t));return n}(v))}(t,n)),o},F.prototype.render=function(e,t,u){var n=this.parse(e),r=t instanceof v?t:new v(t);return this.renderTokens(n,r,u,e)},F.prototype.renderTokens=function(e,t,u,n){for(var r,i,o,a="",s=0,c=e.length;s<c;++s)o=void 0,"#"===(i=(r=e[s])[0])?o=this.renderSection(r,t,u,n):"^"===i?o=this.renderInverted(r,t,u,n):">"===i?o=this.renderPartial(r,t,u,n):"&"===i?o=this.unescapedValue(r,t):"name"===i?o=this.escapedValue(r,t):"text"===i&&(o=this.rawValue(r)),void 0!==o&&(a+=o);return a},F.prototype.renderSection=function(e,t,r,i){var o=this,a="",s=t.lookup(e[1]);if(s){if(u(s))for(var c=0,l=s.length;c<l;++c)a+=this.renderTokens(e[4],t.push(s[c]),r,i);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)a+=this.renderTokens(e[4],t.push(s),r,i);else if(n(s)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,i.slice(e[3],e[5]),function(e){return o.render(e,t,r)}))&&(a+=s)}else a+=this.renderTokens(e[4],t,r,i);return a}},F.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);if(!i||u(i)&&0===i.length)return this.renderTokens(e[4],t,n,r)},F.prototype.renderPartial=function(e,t,u){if(u){var r=n(u)?u(e[1]):u[e[1]];return null!=r?this.renderTokens(this.parse(r),t,u,r):void 0}},F.prototype.unescapedValue=function(e,t){var u=t.lookup(e[1]);if(null!=u)return u},F.prototype.escapedValue=function(t,u){var n=u.lookup(t[1]);if(null!=n)return e.escape(n)},F.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.2",e.tags=["{{","}}"];var C=new F;return e.clearCache=function(){return C.clearCache()},e.parse=function(e,t){return C.parse(e,t)},e.render=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(u(r=e)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return C.render(e,t,n)},e.to_html=function(t,u,r,i){var o=e.render(t,u,r);if(!n(i))return o;i(o)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return c[e]})},e.Scanner=p,e.Context=v,e.Writer=F,e},t&&"string"!=typeof t.nodeName?o(t):(r=[t],void 0===(i="function"==typeof(n=o)?n.apply(t,r):n)||(e.exports=i))},function(e,t,u){var n=u(40);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};u(42)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,u){(e.exports=u(41)(!1)).push([e.i,".bbh-page{\r\n\tfloat: none;\r\n\tposition: static;\r\n}\r\n\r\n.bbh-page.bbh-new{\r\n\twidth: 100%;\r\n\tfloat: left;\r\n\tposition: absolute;\r\n}\r\n\r\n.bbh-page.bbh-vanish{\r\n\topacity: 1;\r\n\ttransition: opacity 0.5s ease-in-out, display 0.5s ease-in-out;\r\n}\r\n\r\n.bbh-page.bbh-vanish.bbh-hide{\r\n\topacity: 0;\r\n}\r\n\r\n.bbh-page.bbh-new.bbh-slide{\r\n\tz-index: 51;\r\n\tborder-radius: 15px;\r\n\twidth: 98vw;\r\n\tbox-shadow: 0 5px 20px 7px rgba(0,0,0,0.3);\r\n\tpadding: 15px;\r\n}\r\n\r\n.bbh-page.bbh-slide-under{\r\n\tz-index: 50;\r\n}\r\n\r\n.bbh-page.bbh-slide{\r\n\tleft: 1vw;\r\n\ttop: 1.5vw;\r\n\ttransition: left 2s ease-in-out;\r\n\tposition: fixed;\r\n\tmin-height: 98.5vh;\r\n\tmax-height: 98.5vh;\r\n\tbackground: #fff;\r\n}\r\n\r\n.bbh-page.bbh-slide.bbh-hide{\r\n\tleft: 100vw;\r\n}",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var u=function(e,t){var u=e[1]||"",n=e[3];if(!n)return u;if(t&&"function"==typeof btoa){var r=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[u].concat(i).concat([r]).join("\n")}var o;return[u].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+u+"}":u}).join("")},t.i=function(e,u){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&n[o[0]]||(u&&!o[2]?o[2]=u:u&&(o[2]="("+o[2]+") and ("+u+")"),t.push(o))}},t}},function(e,t,u){var n,r,i={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var u=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&u instanceof window.HTMLIFrameElement)try{u=u.contentDocument.head}catch(e){u=null}t[e]=u}return t[e]}}(),s=null,c=0,l=[],f=u(43);function D(e,t){for(var u=0;u<e.length;u++){var n=e[u],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(C(n.parts[o],t))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(C(n.parts[o],t));i[n.id]={id:n.id,refs:1,parts:a}}}}function d(e,t){for(var u=[],n={},r=0;r<e.length;r++){var i=e[r],o=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[o]?n[o].parts.push(a):u.push(n[o]={id:o,parts:[a]})}return u}function h(e,t){var u=a(e.insertInto);if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===e.insertAt)n?n.nextSibling?u.insertBefore(t,n.nextSibling):u.appendChild(t):u.insertBefore(t,u.firstChild),l.push(t);else if("bottom"===e.insertAt)u.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertInto+" "+e.insertAt.before);u.insertBefore(t,r)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),F(t,e.attrs),h(e,t),t}function F(e,t){Object.keys(t).forEach(function(u){e.setAttribute(u,t[u])})}function C(e,t){var u,n,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var o=c++;u=s||(s=v(t)),n=g.bind(null,u,o,!1),r=g.bind(null,u,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(u=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",F(t,e.attrs),h(e,t),t}(t),n=function(e,t,u){var n=u.css,r=u.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(n=f(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,u,t),r=function(){p(u),u.href&&URL.revokeObjectURL(u.href)}):(u=v(t),n=function(e,t){var u=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=u;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(u))}}.bind(null,u),r=function(){p(u)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var u=d(e,t);return D(u,t),function(e){for(var n=[],r=0;r<u.length;r++){var o=u[r];(a=i[o.id]).refs--,n.push(a)}e&&D(d(e,t),t);for(r=0;r<n.length;r++){var a;if(0===(a=n[r]).refs){for(var s=0;s<a.parts.length;s++)a.parts[s]();delete i[a.id]}}}};var A,E=(A=[],function(e,t){return A[e]=t,A.filter(Boolean).join("\n")});function g(e,t,u,n){var r=u?"":n.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var i=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var u=t.protocol+"//"+t.host,n=u+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?u+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,u){"use strict";u.r(t);var n={};u.r(n),u.d(n,"log",function(){return E}),u.d(n,"defaultCallback",function(){return g}),u.d(n,"isRemoteURIPattern",function(){return y}),u.d(n,"vidInURIPattern",function(){return m}),u.d(n,"strInURIPattern",function(){return B}),u.d(n,"getClassFromName",function(){return b}),u.d(n,"absoluteURL",function(){return _}),u.d(n,"execFuncWithArgList",function(){return w}),u.d(n,"serializeFormData",function(){return x}),u.d(n,"Heap",function(){return f}),u.d(n,"HeapNode",function(){return D}),u.d(n,"ReverseHeap",function(){return A});var r=u(0),i=u.n(r),o=u(1),a=u.n(o),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i()(this,e),this.info=t,this.user=u}return a()(e,[{key:"getInfo",value:function(){return this.info}},{key:"getUser",value:function(){return this.user}}]),e}(),c=u(5),l=u.n(c),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i()(this,e),t?this.build(t):this.array=[]}return a()(e,[{key:"sx",value:function(e){return 2*e}},{key:"dx",value:function(e){return 2*e+1}},{key:"father",value:function(e){return parseInt(e/2)}},{key:"heapify",value:function(e){var t=this.sx(e),u=this.dx(e),n=e;if(t<this.array.length&&this.array[t].getKey()>this.array[e].getKey()&&(n=t),u<this.array.length&&this.array[u].getKey()>this.array[n].getKey()&&(n=u),n!=e){var r=this.array[e];this.array[e]=this.array[n],this.array[n]=r,this.heapify(n)}}},{key:"build",value:function(e){this.array=e,this.reheap()}},{key:"reheap",value:function(){for(var e=parseInt(this.array.length/2);e>=0;e--)this.heapify(e)}},{key:"addNode",value:function(e){this.array.push(e),this.reheap()}},{key:"pop",value:function(){if(0==this.array.length)return null;var e=this.array[0];return this.array[0]=this.array[this.array.length-1],this.array.length=this.array.length-1,this.heapify(0),e}},{key:"getFirst",value:function(){return 0==this.array.length?null:this.array[0]}},{key:"findByValue",value:function(e){return new Promise(function(t,u){for(var n=0,r=this.array.length;n<r;n++){var i=this.array[n].getValue().equal(e);!0===i&&t(this.array[n]),i instanceof Promise&&i.then(function(e,t,u,n){if(!0===i&&t(e),!1===i&&u(),i instanceof Array)for(var r=0;r<i.length;r++)!1===i[r]&&u();t(e)}.bind(this,this.array[n],t,u))}u()}.bind(this))}},{key:"getNodes",value:l.a.mark(function e(){var t,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,u=this.array.length;case 1:if(!(t<u)){e.next=7;break}return e.next=4,this.array[t];case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})}]),e}(),D=function(){function e(t,u){i()(this,e),this.key=t,this.value=u}return a()(e,[{key:"getKey",value:function(){return this.key}},{key:"incKey",value:function(){this.key++}},{key:"decKey",value:function(){this.key--}},{key:"increaseKey",value:function(e){this.key+=e}},{key:"reduceKey",value:function(e){this.key-=e}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}]),e}(),d=u(3),h=u.n(d),p=u(2),v=u.n(p),F=u(4),C=u.n(F),A=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),a()(t,[{key:"heapify",value:function(e){var t=this.sx(e),u=this.dx(e),n=e;if(t<this.array.length&&this.array[t].getKey()<this.array[e].getKey()&&(n=t),u<this.array.length&&this.array[u].getKey()<this.array[n].getKey()&&(n=u),n!=e){var r=this.array[e];this.array[e]=this.array[n],this.array[n]=r,this.heapify(n)}}}]),t}(f);function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=t){for(var u=arguments.length,n=new Array(u>2?u-2:0),r=2;r<u;r++)n[r-2]=arguments[r];parseInt(t)>1?console.error("["+e+"] ",n):console.log("["+e+"] ",n)}else console.log(e)}function g(){arguments.length>0&&E(arguments)}var y=/^http[s]?:\/\//i,m=/^([0-9]+|back)\/?/,B=/^([\w]+)\/?/;function b(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,u=e.split("."),n=0;n<u.length;n++)t=t[u[n]];return t}function _(e,t){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.split("/"),r=t.split("/");u&&n.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?n.pop():n.push(r[i]));return n.join("/")}function w(e,t){var u=[e].concat(t);return e.bind.apply(e,u)}function x(e){var t=[],u=!0,n=!1,r=void 0;try{for(var i,o=e.entries()[Symbol.iterator]();!(u=(i=o.next()).done);u=!0){var a=i.value;t.push(a[0]+"="+a[1])}}catch(e){n=!0,r=e}finally{try{u||null==o.return||o.return()}finally{if(n)throw r}}return t.join("&")}var k=function(){function e(){i()(this,e)}return a()(e,null,[{key:"getUser",value:function(t){return e.users[t]}},{key:"addUser",value:function(t){try{e.users[t.username]=t}catch(e){E(e)}}}]),e}();k.users={};var S=function(){function e(t,u,n){i()(this,e),this.username=t,this.password=u,this.roles=n}return a()(e,[{key:"getRoles",value:function(){return this.roles}},{key:"hasRole",value:function(e){return-1!=this.roles.indexOf(e)}},{key:"giveRole",value:function(e){this.roles.push(e)}}]),e}(),q=function e(t){i()(this,e),this.name},O=function(){function e(){i()(this,e)}return a()(e,null,[{key:"getRole",value:function(t){return e.roles[t]||(e.roles[t]=new q(t)),e.roles[t]}}]),e}();O.roles={};var T=function e(t,u,n){i()(this,e),this.code=t,this.status=u,this.content=n},j=function(){function e(t,u,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;for(var a in i()(this,e),this.method=t,this.uri=u,null!=n?this.setData(n):this.data=null,this.headers=r,this.headers)this.headers[a]&&"string"!=typeof this.headers[a]&&(this.headers[a]=this.headers[a].toString());this.response_type=o&&"string"!=typeof o?o.toString():o}return a()(e,[{key:"setHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==this.headers&&(this.headers={}),t&&"string"!=typeof t&&(t=t.toString()),this.headers[e]=t}},{key:"getData",value:function(){return this.data}},{key:"getMethod",value:function(){return this.method}},{key:"getUri",value:function(){return this.uri}},{key:"getResponseType",value:function(){return this.response_type||"json"}},{key:"getHeaders",value:l.a.mark(function e(){var t,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=l.a.keys(this.headers);case 1:if((e.t1=e.t0()).done){e.next=8;break}return t=e.t1.value,u=this.headers[t],e.next=6,{name:t,value:u};case 6:e.next=1;break;case 8:case"end":return e.stop()}},e,this)})}]),e}(),L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(this,e),this.properties=t||{}}return a()(e,[{key:"getProperties",value:l.a.mark(function e(){var t,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=l.a.keys(this.properties);case 1:if((e.t1=e.t0()).done){e.next=8;break}return t=e.t1.value,u=this.properties[t],e.next=6,{x:t,v:u};case 6:e.next=1;break;case 8:case"end":return e.stop()}},e,this)})},{key:"getProperty",value:function(e){return this.properties[e]||null}}]),e}(),R=function(){function e(t){i()(this,e),this.name=t}return a()(e,[{key:"fetch",value:function(e){}},{key:"get",value:function(e){}},{key:"search",value:function(e){}},{key:"update",value:function(e){}},{key:"save",value:function(e){}},{key:"destroy",value:function(e){}}]),e}(),I=function e(t,u){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i()(this,e),this.id=t,this.model=u,this.change=null!=n?n.bind(this):null,this.allowEdit=r},N=function(){function e(){i()(this,e)}return a()(e,null,[{key:"getModels",value:function(){return e.models}},{key:"getModel",value:function(t){return e.models[t]}},{key:"addModel",value:function(t){try{e.models[t.name]=new Proxy(t,{get:function(e,t){return t in e?e[t]:e.get(t)}})}catch(e){E(e)}}}]),e}();N.models={};var P=function e(t){i()(this,e),this.name="FrameworkException",this.message=t},M=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(P),U=function(){function e(t,u){if(i()(this,e),!t.startsWith("app://")||!u.startsWith("app://"))throw new M;var n={};this.uri1=new RegExp("^"+t.replace(/:[^\s\/]+/g,function(e,t){return e.i+=1,this[t.substring(1)]=e.i,"([\\w-]+)"}.bind(n,{i:0}))+"$"),this.uri2=u.replace(/:[^\s\/]+/g,function(e){var t=this[e.substring(1)];return t?"$"+t:e}.bind(n))}return a()(e,[{key:"match",value:function(e){return this.uri1.test(e)}},{key:"route",value:function(e){return this.match(e)?e.replace(this.uri1,this.uri2):null}}]),e}(),$=function(){function e(){i()(this,e)}return a()(e,null,[{key:"route",value:function(t){for(var u=e.routes,n=0;n<u.length;n++){var r=u[n].route(t);if(r)return r}return t}},{key:"addRoute",value:function(t){try{e.routes.push(t)}catch(e){E(e)}}}]),e}();$.routes=[];var H=function e(t,u,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;i()(this,e),this.path=t,this.vid=u,this.lock=n,this.configuration=r,this.modules=o,this.roles=l,this.keepLive=a,this.allowDuplicate=s,this.ghostPage=c},W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var u in i()(this,e),t)this[u]=t[u]}return a()(e,[{key:"clone",value:function(){return new e(this)}}],[{key:"getGlobal",value:function(){return e.globalContext||(e.globalContext=new e),e.globalContext}}]),e}();W.globalContext=null;var K=u(10),G=u.n(K),V=function e(t){i()(this,e);var u=W.getGlobal();for(var n in u)this[n]=u[n];return new G.a(t,this)},z=u(18),X=function(){function e(){i()(this,e)}return a()(e,null,[{key:"getInstance",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(null==e.systemInstance&&(e.systemInstance=new z.a("bobblehead_core")),e.systemInstance):(null==e.instance&&(e.instance=new z.a("bobblehead")),e.instance)}}]),e}();X.instance=null,X.systemInstance=null;var J=function(){function e(){i()(this,e),this.session=null}return a()(e,[{key:"processRequest",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"processPage",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"processVirtualPage",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"getCurrentSession",value:function(){return this.session}},{key:"replaceCurrentSession",value:function(e){this.session=e}},{key:"getCurrentUser",value:function(){return this.session?this.session.getUser():null}}]),e}(),Q=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(P),Y=function(){function e(){i()(this,e)}return a()(e,null,[{key:"addMethod",value:function(t,u){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.methods[t]=[u,n]}},{key:"getMethod",value:function(t){var u=e.methods[t];return u?new(w(u[0],u[1])):null}}]),e}();Y.methods={},Y.NoneAuthentication=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(J),Y.addMethod("none",Y.NoneAuthentication),Y.BasicAuthentication=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),a()(t,[{key:"login",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e.name&&e.password){var t=new S(e.name,e.password,["user"]);this.session=new s({user:t})}else E("BasicAuthentication",1,"Invalid user");return null}},{key:"logout",value:function(){return this.replaceCurrentSession(null),null}},{key:"processRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e&&this.session){var t=this.session.getInfo().user;e.setHeader("Authorization","Basic "+btoa(t.name+":"+t.password))}}},{key:"processPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e&&e.roles)if(this.session){for(var t=this.session.getInfo().user,u=!1,n=0;n<e.roles.length;n++)-1!=t.roles.indexOf(e.roles[n])&&(u=!0);if(!u)throw new Q}else if(e.roles.length>0)throw new Q}}]),t}(J),Y.addMethod("basic",Y.BasicAuthentication);var Z=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(P),ee=u(26),te=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(u.n(ee)()(Event)),ue=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i()(this,t),h()(this,v()(t).call(this,"acloaded",e))}return C()(t,e),t}(te),ne=function(){function e(){i()(this,e)}return a()(e,[{key:"getCurrentSession",value:function(){if(this.currentAuthMethod){var e=this.currentAuthMethod.getCurrentSession();return(this.controllerData.session&&e!=this.controllerData.session||!this.controllerData.session&&e)&&this.saveSession(e),e}return this.controllerData.session}},{key:"getCurrentUser",value:function(){return this.currentAuthMethod?this.currentAuthMethod.getCurrentUser():null}},{key:"saveSession",value:function(e){var t=X.getInstance(!0);e._id="session",this.controllerData.session&&(e._rev=this.controllerData.session._rev),this.controllerData.session=e,t.put(e,{rev:!0}).then(function(e){this.controllerData.session._rev=e.rev,E("Saved local session",0,e)}.bind(this)).catch(function(e){E("Cannot save local session",1,e)})}},{key:"processRequest",value:function(e){this.currentAuthMethod&&this.currentAuthMethod.processRequest(e)}},{key:"processPage",value:function(e){if(this.currentAuthMethod){var t=this.getCurrentUser();if(t){var u=!1;if(e.roles&&e.roles.length>0){for(var n=0;n<e.roles.length;n++)if(t.hasRole(e.roles[n])){u=!0;break}}else u=!0;if(!u)throw new Q;this.currentAuthMethod.processPage(e)}else{if(e.roles&&e.roles.length>0)throw new Q;this.currentAuthMethod.processPage(e)}}}},{key:"processVirtualPage",value:function(e){this.currentAuthMethod&&this.currentAuthMethod.processVirtualPage(e)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";return new Promise(function(t,u){if(this.currentAuthMethod=Y.getMethod(e)||Y.getMethod("none"),!(this.currentAuthMethod instanceof J))throw new Z;var n=X.getInstance(!0);this.controllerData={},n.get("session").then(function(e){this.controllerData.session=new s(e.info),this.controllerData.session._id=e._id,this.controllerData.session._rev=e._rev,this.currentAuthMethod.replaceCurrentSession(this.controllerData.session),E("Fetched local session",0,this.controllerData.session),document.dispatchEvent(new ue),t()}.bind(this)).catch(function(e){this.controllerData.session=null,E("Cannot retrive local session",1,e),document.dispatchEvent(new ue),t()}.bind(this))}.bind(this)).catch(function(e){E(e)})}}]),e}(),re=function(){function e(t){i()(this,e),this.name=t,this.configuration={},this.__controllers={}}return a()(e,[{key:"controller",value:function(e,t){return this.__controllers[e]=t.bind(this),this}},{key:"getController",value:function(e){return this.__controllers[e]}},{key:"init",value:function(e){this.configuration=e}},{key:"manipulate",value:function(){}}]),e}(),ie=function(){function e(){i()(this,e)}return a()(e,null,[{key:"getModules",value:l.a.mark(function t(){var u;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=l.a.keys(e.modules);case 1:if((t.t1=t.t0()).done){t.next=8;break}if(u=t.t1.value,!(e.modules[u]instanceof re)){t.next=6;break}return t.next=6,e.modules[u];case 6:t.next=1;break;case 8:case"end":return t.stop()}},t,this)})},{key:"getModule",value:function(t){return e.modules[t]}},{key:"getModulePermissions",value:function(t){return e.modulePerms[t]}},{key:"addModule",value:function(t,u){try{e.modules[t.name]=t,e.modulePerms[t.name]=u}catch(e){E(e)}}}]),e}();ie.modules={},ie.modulePerms={};var oe=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(P),ae=function(){function e(){i()(this,e)}return a()(e,[{key:"doRequest",value:function(e){return new Promise(function(t,u){if(e.uri.startsWith("app://"))try{var n=$.route(e.uri).substring(6);if(n.startsWith("page/")){var r=m.exec(n.substring(5));if(r){var i=r[1],o=W.getGlobal();"back"==i?o.pageBuilder.pageBack():o.pageBuilder.buildPage(parseInt(i),e.getDataAsObject()).then(t).catch(u)}}else if(n.startsWith("module/")){var a=n.substring(7),s=a.indexOf("/"),c=null;c=s>=0?a.substring(0,s):a;var l=ie.getModule(c),f=a.substring(s+1);s=f.indexOf("/");var D=null;D=s>=0?f.substring(0,s):f;var d=l.getController(D);null!=d?d(e.getData(),t,u):u(new oe)}}catch(e){u(e)}})}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();ae.instance=null;var se=u(11),ce=u.n(se),le=u(16),fe=u.n(le),De=u(12),de=u.n(De),he=function(e){function t(e,u,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return i()(this,t),h()(this,v()(t).call(this,e,u,n,r,o))}return C()(t,e),a()(t,[{key:"getDataAsObject",value:function(){var e=null;if(null!=this.data){e={};var t=!0,u=!1,n=void 0;try{for(var r,i=this.data.entries()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e[o[0]]=o[1]}}catch(e){u=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(u)throw n}}}return e}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==e)this.data=null;else if(e instanceof FormData)this.data=e;else if(null!=t&&"string"==typeof e)null==this.data&&(this.data=new FormData),this.data.set(e,t);else if("string"==typeof e)this.data=e;else for(var u in e)this.setData(u,e[u])}},{key:"equal",value:function(e){if(!(e instanceof j))return!1;if(this.method!=e.getMethod())return!1;if(this.uri!=e.getUri())return!1;if(this.getResponseType()!=e.getResponseType())return!1;var u=e.getData();if(null!=u&&null!=this.data){var n=0;if(e instanceof t){var r=0,i=!0,o=!1,a=void 0;try{for(var s,c=u.keys()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){s.value;r++}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}if(r!=n)return!1;var l=!0,f=!1,D=void 0;try{for(var d,h=this.data[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;if(u.get(p[0])!=p[1])return!1;n++}}catch(e){f=!0,D=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw D}}}else if(e instanceof pe){var v=!0,F=!1,C=void 0;try{for(var A,E=this.data[Symbol.iterator]();!(v=(A=E.next()).done);v=!0){if((p=A.value)[1]instanceof Blob)null.push(new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(u[p[0]]==de()(n.result))}.bind(this),n.readAsText(p[1])}));else if(u[p[0]]!=p[1])return!1;n++}}catch(e){F=!0,C=e}finally{try{v||null==E.return||E.return()}finally{if(F)throw C}}if(Object.keys(u).length!=n)return!1}}else if(u!==this.data)return!1;return!0}},{key:"toCacherRequest",value:function(){return new pe(this.method,this.uri,this.data,this.headers,this.response_type)}}]),t}(j),pe=function(e){function t(e,u,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;i()(this,t);var s=(r=h()(this,v()(t).call(this,e,u,n,o,a))).promise;return delete r.promise,h()(r,s||fe()(r))}return C()(t,e),a()(t,[{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.promise=null,e instanceof FormData){this.data={};var u=!0,n=!1,r=void 0;try{for(var i,o=e.entries()[Symbol.iterator]();!(u=(i=o.next()).done);u=!0){var a=i.value;a[1]instanceof Blob?(null==this.promise&&(this.promise=[]),this.promise.push(new Promise(function(e,t,u){var n=new FileReader;n.onload=function(){this.data[e]=de()(n.result),t(this)}.bind(this),n.readAsText(a[1])}.bind(this,a[0])))):this.data[a[0]]=a[1]}}catch(e){n=!0,r=e}finally{try{u||null==o.return||o.return()}finally{if(n)throw r}}}else null!=t&&"string"==typeof e?(null==this.data&&(this.data={}),this.data[e]=t):this.data=e}},{key:"toRequest",value:function(){var e=null;if(null!=this.data)for(var t in e=new FormData,this.data)e.append(t,this.data[t]);return new he(this.method,this.uri,e,this.headers,this.response_type)}},{key:"equal",value:function(e){if(!(e instanceof j))return!1;if(this.method!=e.getMethod())return!1;if(this.uri!=e.getUri())return!1;if(this.getResponseType()!=e.getResponseType())return!1;var u=e.getData();if(null!=u&&null!=this.data)if(e instanceof he){var n=Object.keys(this.data).length,r=0,i=!0,o=!1,a=void 0;try{for(var s,c=u[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){if((l=s.value)[1]instanceof Blob)null.push(new Promise(function(e,t){var u=new FileReader;u.onload=function(){e(this.data[l[0]]==de()(u.result))}.bind(this),u.readAsText(l[1])}.bind(this)));else if(this.data[l[0]]!=l[1])return!1;r++}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}if(r!=n)return!1}else if(e instanceof t){if(Object.keys(u).length!=Object.keys(this.data).length)return!1;for(var l in this.data)if(u[l]!=this.data[l])return!1}else if(u!==this.data)return!1;return!0}}],[{key:"fromObject",value:function(e){return"method"in e&&"uri"in e&&"data"in e?new t(e.method,e.uri,e.data,e.headers||void 0,e.response_type||void 0):null}}]),t}(j),ve=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i()(this,t),h()(this,v()(t).call(this,"cacherloaded",e))}return C()(t,e),t}(te),Fe=function(){function e(){i()(this,e)}return a()(e,null,[{key:"init",value:function(t,u,n,r){return new Promise(function(i,o){var a=X.getInstance(!0);a.get("cacheMap").then(function(t){t?e.cacheMap=t:(e.cacheMap={_id:"cacheMap",length:0},E("Cacher",0,"Cacher map not found")),a.get("cacheHeap").then(function(t){if(t){var u=[];for(var n in t.array){var r=t.array[n].value,o=new pe(r.method,r.uri,r.data,r.headers,r.response_type);u.push(new D(t.array[n].key,o))}var a=t._rev;(t=new A(u))._id="cacheHeap",t._rev=a;var s=t.getFirst();if(null!=s){var c=s.getKey()-1;if(c>0){var l=!0,f=!1,d=void 0;try{for(var h,p=t.getNodes()[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){h.value.reduceKey(c)}}catch(e){f=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}e.cacheHeap=t}else e.cacheHeap=new A,e.cacheHeap._id="cacheHeap",E("Cacher",0,"Cacher heap not found");document.dispatchEvent(new ve),i()}).catch(function(t){e.cacheHeap=new A,e.cacheHeap._id="cacheHeap",E("Cacher heap not found",1,t),document.dispatchEvent(new ve),i()})}).catch(function(t){e.cacheMap={_id:"cacheMap",length:0},e.cacheHeap=new A,e.cacheHeap._id="cacheHeap",E("Cacher map not found",1,t),document.dispatchEvent(new ve),i()}),e.whitelist=n,e.blacklist=r,e.maxCached=u,e.cacheDefault=t}.bind(this)).catch(function(e){E(e)})}},{key:"parseUri",value:function(e){for(var t=btoa(e),u=0,n=t.length-1;n>=0&&"="==t[n];n--)u++;return u>0?t.substring(0,t.length-u):t}},{key:"cache",value:function(t,u){var n=t.toCacherRequest(),r=function(t,u){var n=u.pop();if(-1==e.blacklist.indexOf(n.uri)){var r=X.getInstance(!0),i=e.parseUri(n.uri),o=-1;if(e.cacheMap[n.method]&&e.cacheMap[n.method][i])for(var a in e.cacheMap[n.method][i])if(e.cacheMap[n.method][i][a][0]instanceof pe||(e.cacheMap[n.method][i][a][0]=pe.fromObject(e.cacheMap[n.method][i][a][0])),n.equal(e.cacheMap[n.method][i][a][0])){o=a;break}if(-1!=o){null!=(s=e.cacheHeap.findByValue(n))&&s.then(function(u,r){r.incKey(),e.cacheHeap.reheap(),u.put(e.cacheHeap,{rev:!0}).then(function(t){e.cacheHeap._rev=t.rev,E("Saved Cacher heap",0,t)}).catch(function(e){E("Cannot save Cacher heap",1,e)}),e.cacheMap[n.method][i][o][1]=t}.bind(this,r)).catch(function(){E("URL in whitelist",0,"Cannot retrive node from Cacher heap")})}else if(e.cacheDefault||e.whitelist.indexOf(n.uri)>-1){if(e.cacheMap.length>e.maxCached)for(a=e.nodesPartNum;a>0;a--)for(var s,c=(s=e.cacheHeap.pop()).getValue(),l=e.parseUri(c.uri),f=e.cacheMap[c.method][l].length;f>0;f--){var d=e.cacheMap[c.method][l].shift();if(c.equal(d[0])){e.cacheMap.length--;break}d[0]instanceof pe||(d[0]=pe.fromObject(d[0])),e.cacheMap[c.method][l].push(d)}if(-1==e.whitelist.indexOf(n.uri)){var h=new D(1,n);e.cacheHeap.addNode(h),r.put(e.cacheHeap,{rev:!0}).then(function(t){e.cacheHeap._rev=t.rev,E("Saved Cacher heap",0,t)}).catch(function(e){E("Cannot save Cacher heap",1,e)})}e.cacheMap[n.method]||(e.cacheMap[n.method]={}),e.cacheMap[n.method][i]||(e.cacheMap[n.method][i]=[]),e.cacheMap[n.method][i].push([n,t]),e.cacheMap.length++,r.put(e.cacheMap,{rev:!0}).then(function(t){e.cacheMap._rev=t.rev,E("Saved Cacher map",0,t)}).catch(function(e){E("Cannot save Cacher map",1,e)})}}};n instanceof pe?r.bind(this)(u,[n]):Promise.all(n).then(r.bind(this,u))}},{key:"getCached",value:function(t){var u=e.parseUri(t.uri),n=[];if(e.cacheMap[t.method]&&e.cacheMap[t.method][u])for(var r in e.cacheMap[t.method][u]){e.cacheMap[t.method][u][r][0]instanceof pe||(e.cacheMap[t.method][u][r][0]=pe.fromObject(e.cacheMap[t.method][u][r][0]));var i=t.equal(e.cacheMap[t.method][u][r][0]);if(i instanceof Promise)n.push(i.then(function(e,t,u,n){return n?this[e][t][u][1]:null}.bind(e.cacheMap,t.method,u,r)));else if(1==i)return e.cacheMap[t.method][u][r][1]}return n.length>0?Promise.all(n).then(function(e){for(var t=0;t<e.length;t++)if(null!=e[t])return e[t]}):null}}]),e}();Fe.cacheHeap=null,Fe.cacheMap=null,Fe.whitelist=null,Fe.blacklist=null,Fe.maxCached=1e3,Fe.cacheDefault=!0,Fe.nodesPartNum=3;var Ce=function(){function e(){i()(this,e)}return a()(e,[{key:"doRequest",value:function(e){return new Promise(function(t,u){var n=new XMLHttpRequest,r=encodeURI(e.uri);if("get"==e.method&&null!=e.getData()){var i="",o=!0,a=!1,s=void 0;try{for(var c,f=e.getData().entries()[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var D=c.value;D[0]&&(D[1]||0===D[1])&&(i+=D[0]+"="+D[1].toString().trim()+"&")}}catch(e){a=!0,s=e}finally{try{o||null==f.return||f.return()}finally{if(a)throw s}}r+="?"+(i=i.slice(0,-1))}n.open(e.getMethod(),r,!0);var d=!0,h=!1,p=void 0;try{for(var v,F=e.getHeaders()[Symbol.iterator]();!(d=(v=F.next()).done);d=!0){var C=v.value;n.setRequestHeader(C.name,C.value)}}catch(e){h=!0,p=e}finally{try{d||null==F.return||F.return()}finally{if(h)throw p}}n.responseType=e.getResponseType(),n.onreadystatechange=ce()(l.a.mark(function r(){var i,o,a;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=new T,n.readyState!==XMLHttpRequest.DONE){r.next=19;break}if(o=null,i.code=0,i.status=n.status,200===n.status){r.next=15;break}if(4==Math.floor(n.status/100)){r.next=14;break}if(!((o=Fe.getCached(e))instanceof Promise)){r.next=14;break}return a=o,r.next=13,a;case 13:o=r.sent;case 14:o||(i.code=-10,i.content={error:"Connection Error"});case 15:o||(o=n.response),o?i.content=o:200===n.status&&(i.code=-11,i.content={error:"No data response"}),200===n.status&&Fe.cache(e,o),0==i.code?t(i):u(i);case 19:case"end":return r.stop()}},r,this)})),n.send(e.getData())})}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();Ce.instance=null;var Ae=function(){function e(){i()(this,e)}return a()(e,[{key:"request",value:function(e){var t=y.test(e.uri);return W.getGlobal().accessController.processRequest(e),(t?Ce.getInstance():ae.getInstance()).doRequest(e)}}]),e}(),Ee=function(){function e(){i()(this,e)}return a()(e,null,[{key:"getPage",value:function(t){return e.pages[t]}},{key:"addPage",value:function(t){try{e.pages[t.vid]=t}catch(e){E(e)}}}]),e}();Ee.pages={};var ge=function e(t,u,n,r,o){i()(this,e),this.page=t,this.data=u,this.context=n,this.success=r,this.fail=o},ye=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(P),me=function(e){function t(e){var u,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i()(this,t),(u=h()(this,v()(t).call(this))).vid=e,u.data=n,u}return C()(t,e),t}(P),Be=function(e){function t(e){return i()(this,t),h()(this,v()(t).call(this,e+" model not found!"))}return C()(t,e),t}(P),be=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i()(this,t),h()(this,v()(t).call(this,"pageready",e))}return C()(t,e),t}(te),_e=u(22),we=u.n(_e),xe=(u(39),function(){function e(){var t;i()(this,e),this.pageStack=[],this.container=null,this.documentProxy=null,this.currentPage=null,this.transition=null,(t=window.Node).prototype.__addEventListener=t.prototype.addEventListener,t.prototype.addEventListener=function(e,t,u){return this!=document&&(this.__listners||(this.__listners={}),e.split(" ").forEach(function(e,t,u){this.__listners[u]||(this.__listners[u]=[]),this.__listners[u].push({ls:e,uc:t})}.bind(this,t,u))),this.__addEventListener(e,t,u)},t.prototype.__removeEventListener=t.prototype.removeEventListener,t.prototype.removeEventListener=function(e,t){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.__listners&&e.split(" ").forEach(function(e,t,u){if(this.__listners&&this.__listners[u])for(var n=this.__listners[u].length,r=0;r<n;r++){var i=this.__listners[u].shift();if(i.ls==e&&i.uc==t)break;this.__listners[u].push(i)}}.bind(this,t,u)),this.__removeEventListener(e,t,u)},t.prototype.__renewListeners=function(){if(this.hasChildNodes())for(var e=this.childNodes,t=0;t<e.length;t++)e[t].__renewListeners();if(this.__listners)for(var u in this.__listners)for(var n=0;n<this.__listners[u].length;n++)this.__addEventListener(u,this.__listners[u][n].ls,this.__listners[u][n].uc)}}return a()(e,[{key:"checkPage",value:function(e){W.getGlobal().accessController.processPage(e)}},{key:"checkVirtualPage",value:function(e){W.getGlobal().accessController.processVirtualPage(e)}},{key:"pageHop",value:function(){document.getElementById(this.container).classList.remove("bbh-new")}},{key:"setDefaultListener",value:function(e,t){if(t instanceof Element){if("A"==t.tagName.toUpperCase())var u=[t];else u=t.getElementsByTagName("a");for(var n=0;n<u.length;n++)u[n].hasAttribute("bbh-ignore")||!u[n].getAttribute("href")||"#"==u[n].getAttribute("href")||y.test(u[n].getAttribute("href"))||(u[n].onclick=function(e){var t=new he("GET",this.getAttribute("href"),null);return e.request(t),!1}.bind(u[n],e.defaultConnector));if("FORM"==t.tagName.toUpperCase())var r=[t];else r=t.getElementsByTagName("form");for(n=0;n<r.length;n++)r[n].hasAttribute("bbh-ignore")||(r[n].onsubmit=function(e){var t=!0,u=!1,n=void 0;try{for(var r,i=this.querySelectorAll("[name]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if(!o.checkValidity())return void o.reportValidity()}}catch(e){u=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(u)throw n}}var a=new FormData(this),s=new he(this.getAttribute("method"),this.getAttribute("action"),a);return e.request(s),!1}.bind(r[n],e.defaultConnector))}}},{key:"makeTransition",value:function(e,t,u){var n=null;"vanish"==u?(t.classList.add("bbh-vanish"),t.classList.add("bbh-hide"),window.getComputedStyle(t).opacity,n=new Promise(function(t,u){e.classList.add("bbh-vanish"),window.getComputedStyle(e).opacity,e.addEventListener("transitionend",n=function(){e.removeEventListener("transitionend",n),t()}),e.classList.add("bbh-hide");var n=null})):"slide"==u&&(e.classList.add("bbh-slide-under"),t.classList.remove("bbh-slide-under"),t.classList.add("bbh-slide"),t.classList.add("bbh-hide"),t.style.display="block",window.getComputedStyle(e).height,n=new Promise(function(e,u){var n=null;t.addEventListener("transitionend",n=function(){t.removeEventListener("transitionend",n),t.classList.remove("bbh-slide"),e()}),t.classList.remove("bbh-hide")}));var r=null;return t.addEventListener("pageready",r=function(){"vanish"==u&&t.classList.remove("bbh-hide"),t.removeEventListener("pageready",r)}),n}},{key:"waitNremove",value:function(e,t){if(e){for(var u=t.querySelectorAll("*[id]"),n=0;n<u.length;n++)u[n].id+="-toDelete";e=e.then(function(){document.body.removeChild(t)}).catch(function(){document.body.removeChild(t)})}else document.body.removeChild(t);return e}},{key:"getNewContainer",value:function(e){var t=document.getElementById(this.container);t.setAttribute("id",this.container+"-toDelete");var u=document.createElement("div");u.setAttribute("id",this.container),u.classList.add("bbh-page"),u.classList.add("bbh-new"),document.body.appendChild(u);var n=this.makeTransition(t,u,this.transition);if(e){var r=function(){var e=document.querySelectorAll('*[id^="historyPage-"]').length;t.setAttribute("id","historyPage-"+e),t.style.display="none";for(var u=t.querySelectorAll("*[id]"),n=0;n<u.length;n++)u[n].id+="-history"+e};n?n=n.then(r):r()}else this.waitNremove(n,t);return n?n.then(function(){return u}):u}},{key:"buildPage",value:function(e,t){return new Promise(function(u,n){var r=Ee.getPage(e);if(r){var i=!1,o=!1;this.currentPage&&this.currentPage.page.ghostPage&&(this.currentPage=this.pageStack.pop()||null,o=!0),r.lock||null==this.currentPage||r.vid==this.currentPage.page.vid&&!r.allowDuplicate||(!o&&this.currentPage.page.keepLive&&(i=!0),this.pageStack.push(this.currentPage)),r.lock&&(this.pageStack=[]);var a=this.getNewContainer(i),s=function(e){var i=new V(e);this.currentPage=new ge(r,t,i,u,n),this.checkVirtualPage(this.currentPage),this.buildPageByObject(r,t,i,u,n),this.pageHop()}.bind(this);a instanceof Promise?a.then(s):s(a)}else n(new ye)}.bind(this)).catch(function(e){E(e)})}},{key:"buildPageFromHistory",value:function(e){var t=document.getElementById(this.container);t.setAttribute("id",this.container+"-toDelete");var u=document.getElementById("historyPage-"+e);u.classList.add("bbh-new");var n=this.waitNremove(this.makeTransition(t,u,this.transition),t),r=function(){u.setAttribute("id",this.container),u.style.display="block";for(var t=u.querySelectorAll("*[id]"),n=("-history"+e).length,r=0;r<t.length;r++)t[r].id=t[r].id.substring(0,t[r].id.length-n),t[r].__renewListeners();document.dispatchEvent(new be),u.dispatchEvent(new be)}.bind(this);return n?n.then(r):(r(),null)}},{key:"buildPageByText",value:function(e,t,u,n,r,i,o){var a=W.getGlobal(),s=document.getElementById(this.container),c=[],f=!0,D=!1,d=void 0;try{for(var h,p=we.a.parse(e)[Symbol.iterator]();!(f=(h=p.next()).done);f=!0){"text"!=(C=h.value)[0]&&c.push(C)}}catch(e){D=!0,d=e}finally{try{f||null==p.return||p.return()}finally{if(D)throw d}}for(var v=[],F=N.getModels();c.length>0;){var C;if((C=c.shift())[4]instanceof Array){var A=!0,g=!1,y=void 0;try{for(var m,B=C[4][Symbol.iterator]();!(A=(m=B.next()).done);A=!0){var b=m.value;"text"!=b[0]&&"name"!=b[0]&&c.push(b)}}catch(e){g=!0,y=e}finally{try{A||null==B.return||B.return()}finally{if(g)throw y}}}if(C[1].startsWith("models.")){var _=C[1].split(".");if(!F[_[1]])throw new Be(_[1]);try{var w=n.execMethod("fetch",[_[2]],F[_[1]]);w instanceof Promise&&v.push(w)}catch(e){throw new P("Invalid access to models by Mustache on page.")}}}Promise.all(v).then(ce()(l.a.mark(function o(){var c,f,D,d,h,p,v,C,A,g,y,m,B,b,_,w,x,k,S,q,O;return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:s.innerHTML=we.a.render(e,{pageData:t,models:F,pageConf:u.properties}),new MutationObserver(function(e,t){var u=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(u=(i=o.next()).done);u=!0){var a=i.value;if("childList"==a.type){var s=!0,c=!1,l=void 0;try{for(var f,D=a.addedNodes[Symbol.iterator]();!(s=(f=D.next()).done);s=!0){var d=f.value;this.setDefaultListener(e,d)}}catch(e){c=!0,l=e}finally{try{s||null==D.return||D.return()}finally{if(c)throw l}}}}}catch(e){n=!0,r=e}finally{try{u||null==o.return||o.return()}finally{if(n)throw r}}}.bind(this,a)).observe(s,{subtree:!0,childList:!0}),c=s.getElementsByTagName("script"),f=null,D=0;case 6:if(!(D<c.length)){o.next=21;break}if(d=c[D].getAttribute("async"),""==c[D].getAttribute("src")||null==c[D].getAttribute("src")){o.next=17;break}if(h=c[D].getAttribute("src"),"true"==d||null==f){o.next=13;break}return o.next=13,f;case 13:p=new Promise(function(e,t){var u=new XMLHttpRequest;u.open("get",h,!0),u.responseType="text",u.onreadystatechange=function(t,n){if(u.readyState===XMLHttpRequest.DONE){try{t.execCode(u.response)}catch(e){E("Execution of scriptfile: "+n,3,e)}e()}}.bind(this,n,h),u.send()}).catch(function(e){E(e)}),"true"!=d&&(f=p),o.next=18;break;case 17:try{n.execCode(c[D].innerHTML)}catch(e){E("Execution of script code",3,e)}case 18:D++,o.next=6;break;case 21:this.setDefaultListener(a,s),v=null==f?[]:[f],C=!0,A=!1,g=void 0,o.prev=26,y=ie.getModules()[Symbol.iterator]();case 28:if(C=(m=y.next()).done){o.next=71;break}if(B=m.value,!(null!=r&&r.indexOf(B.name)>-1)){o.next=68;break}b=!0,_=!1,w=void 0,o.prev=34,x=s.querySelectorAll('[bbh-module*="'+B.name+'"]')[Symbol.iterator]();case 36:if(b=(k=x.next()).done){o.next=54;break}if((S=k.value).setAttribute("bbh-manipulating","true"),q=new G.a(S,a.clone()),void 0===(O=q.execMethod("manipulate",[],B))){o.next=49;break}if(!(O instanceof Promise)){o.next=46;break}O.then(function(){S.setAttribute("bbh-manipulating","false")}),o.next=47;break;case 46:throw new P(B.name+" manipulate has not returned a promise");case 47:o.next=50;break;case 49:S.setAttribute("bbh-manipulating","false");case 50:v.push(O);case 51:b=!0,o.next=36;break;case 54:o.next=60;break;case 56:o.prev=56,o.t0=o.catch(34),_=!0,w=o.t0;case 60:o.prev=60,o.prev=61,b||null==x.return||x.return();case 63:if(o.prev=63,!_){o.next=66;break}throw w;case 66:return o.finish(63);case 67:return o.finish(60);case 68:C=!0,o.next=28;break;case 71:o.next=77;break;case 73:o.prev=73,o.t1=o.catch(26),A=!0,g=o.t1;case 77:o.prev=77,o.prev=78,C||null==y.return||y.return();case 80:if(o.prev=80,!A){o.next=83;break}throw g;case 83:return o.finish(80);case 84:return o.finish(77);case 85:Promise.all(v).then(function(){document.dispatchEvent(new be),s.dispatchEvent(new be),i()});case 86:case"end":return o.stop()}},o,this,[[26,73,77,85],[34,56,60,68],[61,,63,67],[78,,80,84]])})).bind(this))}},{key:"buildPageByObject",value:function(e,t,u){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:g;try{this.checkPage(e);var i=new XMLHttpRequest;i.open("GET",e.path,!0),i.onreadystatechange=function(){var e=ce()(l.a.mark(function e(t,u,n,r,o,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.readyState===XMLHttpRequest.DONE&&404===i.status?a(new ye):i.readyState===XMLHttpRequest.DONE&&this.buildPageByText(i.response,t,u,n,r,o,a);case 1:case"end":return e.stop()}},e,this)}));return function(t,u,n,r,i,o){return e.apply(this,arguments)}}().bind(this,t,e.configuration,u,e.modules,n,r),i.send(null)}catch(e){r(e),e instanceof me&&(-1==e.vid?this.pageBack():this.buildPage(e.vid,e.data))}}},{key:"pageBack",value:function(){var e=this.pageStack.pop();if(!e)throw new ye;if(this.currentPage=e,this.checkVirtualPage(e),e.page.keepLive){var t=document.querySelectorAll('*[id^="historyPage-"]').length,u=this.buildPageFromHistory(t-1,e.page.path);u&&u.then(function(){this.pageHop()}.bind(this))}else{this.getNewContainer(!1);var n=function(){this.buildPageByObject(e.page,e.data,e.context,e.success,e.fail),this.pageHop()}.bind(this);domcontainer instanceof Promise?domcontainer.then(n):n()}}}]),e}()),ke=function(){function e(){i()(this,e)}return a()(e,null,[{key:"getDOMParser",value:function(){return null==e.domParser&&(e.domParser=new DOMParser),e.domParser}},{key:"parseUrl",value:function(e,t){var u=new XMLHttpRequest;u.open("get",e,!0),u.responseType="text",u.onreadystatechange=function(e){u.readyState===XMLHttpRequest.DONE&&e(this.parseString(u.response))}.bind(this,t),u.send()}},{key:"parseString",value:function(t){var u=null;window.DOMParser?u=e.getDOMParser().parseFromString(t,"application/xml"):((u=new ActiveXObject("Microsoft.XMLDOM")).async=!1,u.loadXML(t));return u}}]),e}();ke.domParser=null;var Se=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(L),qe=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(L),Oe=function e(t){i()(this,e),this.name="FrameworkError",this.message=t},Te=function(e){function t(){return i()(this,t),h()(this,v()(t).call(this,"Current Javascript Engine doesn't support the framework."))}return C()(t,e),t}(Oe),je=function(){function e(t){i()(this,e),this.moduleOnLoad=[],this.initialization=!0,ke.parseUrl(t,this.processConf.bind(this))}return a()(e,[{key:"registerModel",value:function(e){N.addModel(e)}},{key:"registerModule",value:function(e){this.initialization?this.moduleOnLoad.push(e):ie.addModule(e)}},{key:"registerRoute",value:function(e){$.addRoute(e)}},{key:"addToGlobalContext",value:function(e,t){var u=W.getGlobal();if(e in u)throw new P("A module tried to edit global context!");u[e]=t}},{key:"processConf",value:function(t){if(t){var u={};try{var n=t.getElementsByTagName("configuration")[0];if(u.container=n.getElementsByTagName("container")[0].textContent,n.getElementsByTagName("base_url").length>0)u.base_url=n.getElementsByTagName("base_url")[0].textContent;else{var r=document.location.pathname.split("/");r.pop(),u.base_url=document.location.protocol+"//"+document.location.host+r.join("/")}var i=n.getElementsByTagName("pageBuilder")[0],o=[],a=[],s=1e3,c=!0,l=n.getElementsByTagName("cacher")[0];if(l){if(l.getAttribute("max-cached")&&(s=parseInt(l.getAttribute("max-cached"))),l.getElementsByTagName("block")){var f=!0,D=!1,d=void 0;try{for(var h,p=l.getElementsByTagName("block")[Symbol.iterator]();!(f=(h=p.next()).done);f=!0){var v=h.value;a.push(v.getAttribute("url"))}}catch(e){D=!0,d=e}finally{try{f||null==p.return||p.return()}finally{if(D)throw d}}}if(l.getElementsByTagName("persist")){var F=!0,C=!1,A=void 0;try{for(var g,y=l.getElementsByTagName("persist")[Symbol.iterator]();!(F=(g=y.next()).done);F=!0){var m=g.value;o.push(m.getAttribute("url"))}}catch(e){C=!0,A=e}finally{try{F||null==y.return||y.return()}finally{if(C)throw A}}}l.getAttribute("default")&&"nocache"==l.getAttribute("default")&&(c=!1)}var B=Fe.init(c,s,o,a),w=n.getElementsByTagName("pages")[0],x=w.getElementsByTagName("index")[0],k=w.getAttribute("path"),S=w.getAttribute("transition")||null,q=!0,O=!1,T=void 0;try{for(var j,R=w.getElementsByTagName("page")[Symbol.iterator]();!(q=(j=R.next()).done);q=!0){m=j.value;var I=null,N=null;m.getAttribute("modulesAllowed")&&(I=m.getAttribute("modulesAllowed").split(",")),m.getAttribute("rolesAllowed")&&(N=m.getAttribute("rolesAllowed").split(","));var M={};if(m.getElementsByTagName("configuration")&&m.getElementsByTagName("configuration").length>0){var $=!0,K=!1,V=void 0;try{for(var z,J=m.getElementsByTagName("configuration")[0].childNodes[Symbol.iterator]();!($=(z=J.next()).done);$=!0){var Q=z.value;Q instanceof Element&&(M[Q.tagName]=Q.textContent)}}catch(e){K=!0,V=e}finally{try{$||null==J.return||J.return()}finally{if(K)throw V}}}var Y=new Se(M),Z=new H(m.getAttribute("path"),parseInt(m.getAttribute("vid")),"true"==m.getAttribute("noback"),Y,I,m.hasAttribute("keepLive")?"true"==m.getAttribute("keepLive"):void 0,m.hasAttribute("allowDuplicate")?"true"==m.getAttribute("allowDuplicate"):void 0,m.hasAttribute("ghostPage")?"true"==m.getAttribute("ghostPage"):void 0,N);Ee.addPage(Z)}}catch(e){O=!0,T=e}finally{try{q||null==R.return||R.return()}finally{if(O)throw T}}e.configuration=new L(u);var ee=n.getElementsByTagName("routes")[0];if(ee){var te=!0,ue=!1,re=void 0;try{for(var oe,ae=ee.getElementsByTagName("route")[Symbol.iterator]();!(te=(oe=ae.next()).done);te=!0){var se=oe.value;this.registerRoute(new U(se.getAttribute("entry"),se.getAttribute("destination")))}}catch(e){ue=!0,re=e}finally{try{te||null==ae.return||ae.return()}finally{if(ue)throw re}}}var ce=n.getElementsByTagName("modules")[0],le=null;if(ce){var fe=ce.getAttribute("path");fe.startsWith(u.base_url)||(fe=_(u.base_url,fe,!1));var De={},de=document.createElement("iframe");for(var he in de.style.display="none",document.body.appendChild(de),window)he in de.contentWindow||(de.contentWindow[he]=window[he]);de.contentWindow.Promise=window.Promise,de.contentWindow.Array=window.Array,de.contentWindow.Element=window.Element,de.contentWindow._document=new Proxy(document,{container:document.getElementById(u.container),whiteList:["querySelector","getElementById","dispatchEvent","createElement"],get:function(e,t){var u="function"!=typeof e[t]||-1!=this.whiteList.indexOf(t)?e[t]:void 0;return"function"==typeof u&&"createElement"!=t&&(u=function(e){for(var t=[],u=1;u<arguments.length;u++)t[u-1]=arguments[u];var n=e.apply(document,t);if(n instanceof Node){for(var r=n;r=r.parentNode;)if(r==this)return n;return this}}.bind(this.container,u)),u.bind(e)},set:function(e,t,u){return!1}});var pe=!0,ve=!1,Ce=void 0;try{for(var ge,ye=ce.getElementsByTagName("module")[Symbol.iterator]();!(pe=(ge=ye.next()).done);pe=!0){var me=ge.value;if("true"==me.getAttribute("enabled")){var Be,be=me.getAttribute("permissions")?me.getAttribute("permissions").split(","):[];Be=function e(t){var u={},n=!0,r=!1,i=void 0;try{for(var o,a=t.childNodes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s instanceof Element&&(s.hasChildNodes()?1==s.childNodes.length&&s.childNodes[0].nodeType==Node.TEXT_NODE?u[s.tagName]=s.textContent:u[s.tagName]=e(s):u[s.tagName]=s.textContent)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return u}(me.getElementsByTagName("configuration")[0]);var _e=new qe(Be);le=new Promise(function(e,t,u,n,r){var i=function(e,t,u){var n=document.createElement("script");if(n.src=fe+me.getAttribute("path"),n.type="module",n.onload=function(e,t,u,n){for(;e.length>0;){var r=e.shift();De[r.name]=t,ie.addModule(r,u)}n()}.bind(n,this.moduleOnLoad,e,t,u),fe.startsWith("file:")){var r=new XMLHttpRequest;r.onload=function(e,t,u,n){var i=r.response,o=new Blob([i],{type:"text/javascript"});t.src=URL.createObjectURL(o),u.contentDocument.head.appendChild(t)}.bind(this,me,n,de),r.open("get",fe+me.getAttribute("path")),r.responseType="blob",r.send()}else de.contentDocument.head.appendChild(n)}.bind(this,e,t,n);null!=u?u.then(i):i()}.bind(this,_e,be,le)).catch(function(e){E(e)})}}}catch(e){ve=!0,Ce=e}finally{try{pe||null==ye.return||ye.return()}finally{if(ve)throw Ce}}}var we=document.createElement("base");we.setAttribute("href",k),document.getElementsByTagName("head")[0].appendChild(we);var ke=de.contentDocument.createElement("base");ke.setAttribute("href",u.base_url+"/"+k),de.contentDocument.getElementsByTagName("head")[0].appendChild(ke),Promise.all([B,le]).then(function(){var e=W.getGlobal();if(e.BobbleHead=new Proxy(BobbleHead,{whiteList:["User","Role","Session","Response","Request","ConnectorRequest","Model","ModelInstance","Route","Page","PageContext","AuthenticationMethod","AuthenticationMethods","PageFactory","VirtualPage","Exceptions","Errors","Events","Util"],get:function(e,t){return t in e&&-1!=this.whiteList.indexOf(t)?e[t]:null}}),i){i=i.textContent;try{var t=b(i)||b(i,de.contentWindow);if(!t)throw new P(i+" isn't a valid PageBuilder");e.pageBuilder=i?new t:new xe}catch(t){E(t),e.pageBuilder=new xe}}else e.pageBuilder=new xe;e.pageBuilder.container=u.container,e.pageBuilder.transition=S;var r=n.getElementsByTagName("defaultConnector")[0];if(r){r=r.textContent;try{var o=b(r)||b(r,de.contentWindow);if(!o)throw new P(r+" isn't a valid GenericConnector");e.defaultConnector=r?new o:new Ae}catch(t){E(t),e.defaultConnector=new Ae}}else e.defaultConnector=new Ae;var a=n.getElementsByTagName("accessController")[0],s=null;if(a){var c=a.textContent;try{if(c){var l=b(c)||b(c,de.contentWindow);if(!l)throw new P(c+" isn't a valid AccessController")}e.accessController=c?new l:new ne,s=e.accessController.init(a.getAttribute("method"))}catch(t){E(t),e.accessController=new ne,s=e.accessController.init(a.getAttribute("method")||"none")}}else e.accessController=new ne,s=e.accessController.init("none");e.localDatabase=X.getInstance(),s.then(function(){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=ie.getModules()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=e.clone(),l=[],f=!0,D=!1,d=void 0;try{for(var h,p=ie.getModulePermissions(s.name)[Symbol.iterator]();!(f=(h=p.next()).done);f=!0){var v=h.value;"pages"==v?l=l.concat(["PageFactory","PageConfiguration"]):"users"==v?l=l.concat(["UserPool","RolePool"]):"models"==v&&(l=l.concat(["ModelPool"]))}}catch(e){D=!0,d=e}finally{try{f||null==p.return||p.return()}finally{if(D)throw d}}c.BobbleHead=new Proxy(BobbleHead,{whiteList:["User","Role","Session","Response","Request","ConnectorRequest","Model","ModelInstance","Route","Page","PageContext","AuthenticationMethod","AuthenticationMethods","VirtualPage","Exceptions","Errors","Events","Util","XMLParser"].concat(l),moduleName:s.name,get:function(e,t){if(t in e&&-1!=this.whiteList.indexOf(t))return e[t];throw new P("Unpermitted access to "+t+" from "+this.moduleName)}});var F=new G.a(document.getElementById(u.container),c).execMethod("init",[De[s.name]],s);F instanceof Promise&&t.push(F)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}if(x){u.index=parseInt(x.getAttribute("vid"));var C=null;if(x.getElementsByTagName("data")[0]){C={};var A=!0,E=!1,g=void 0;try{for(var y,m=x.getElementsByTagName("data")[0].childNodes[Symbol.iterator]();!(A=(y=m.next()).done);A=!0){var B=y.value;B instanceof Element&&(C[B.tagName]=B.textContent)}}catch(e){E=!0,g=e}finally{try{A||null==m.return||m.return()}finally{if(E)throw g}}}Promise.all(t).then(function(e,t){this.pageBuilder.buildPage(e,t)}.bind(e,u.index,C))}this.initialization=!1}.bind(this))}.bind(this))}catch(e){throw E(e),new Te}}}}],[{key:"getConf",value:function(t){return e.configuration?e.configuration.getProperty(t):null}}]),e}();je.configuration=null;var Le=function(e){function t(){return i()(this,t),h()(this,v()(t).apply(this,arguments))}return C()(t,e),t}(P),Re=function(e){function t(e){return i()(this,t),h()(this,v()(t).call(this,e))}return C()(t,e),t}(P);t.default=function(){var e={};return Object.defineProperties(e,{UserPool:{value:k,writable:!1},User:{value:S,writable:!1},Role:{value:q,writable:!1},RolePool:{value:O,writable:!1},Session:{value:s,writable:!1},Response:{value:T,writable:!1},Request:{value:j,writable:!1},ConnectorRequest:{value:he,writable:!1},CacherRequest:{value:pe,writable:!1},GenericConfiguration:{value:L,writable:!1},ModuleConfiguration:{value:qe,writable:!1},PageConfiguration:{value:Se,writable:!1},Model:{value:R,writable:!1},ModelInstance:{value:I,writable:!1},ModelPool:{value:N,writable:!1},Route:{value:U,writable:!1},Router:{value:$,writable:!1},Page:{value:H,writable:!1},PageContext:{value:V,writable:!1},AccessController:{value:ne,writable:!1},AuthenticationMethod:{value:J,writable:!1},AuthenticationMethods:{value:Y,writable:!1},InternalConnector:{value:ae,writable:!1},ExternalConnector:{value:Ce,writable:!1},GenericConnector:{value:Ae,writable:!1},Cacher:{value:Fe,writable:!1},PageBuilder:{value:xe,writable:!1},PageFactory:{value:Ee,writable:!1},Module:{value:re,writable:!1},ModulePool:{value:ie,writable:!1},VirtualPage:{value:ge,writable:!1},Database:{value:X,writable:!1},AppController:{value:je,writable:!1},XMLParser:{value:ke,writable:!1},Context:{value:W,writable:!1},defaultCallback:{value:g,writable:!1},Exceptions:{value:{get FrameworkException(){return P},set FrameworkException(e){},get GenericModuleException(){return Re},set GenericModuleException(e){},get PageNotFoundException(){return ye},set PageNotFoundException(e){},get RedirectException(){return me},set RedirectException(e){},get NotSupportedException(){return Le},set NotSupportedException(e){},get UnauthorizedException(){return Q},set UnauthorizedException(e){},get InvalidRouteException(){return M},set InvalidRouteException(e){},get ControllerNotFoundException(){return oe},set ControllerNotFoundException(e){},get ModelNotFoundException(){return Be},set ModelNotFoundException(e){},get InvalidAuthenticationMethodException(){return Z},set InvalidAuthenticationMethodException(e){}},writable:!1},Errors:{value:{FrameworkError:Oe,NotSupportedEngineError:Te},writable:!1},Events:{value:{get FrameworkEvent(){return te},set FrameworkEvent(e){},get CacherLoadedEvent(){return ve},set CacherLoadedEvent(e){},get AccessControllerLoadedEvent(){return ue},set AccessControllerLoadedEvent(e){},get PageReadyEvent(){return be},set PageReadyEvent(e){}},writable:!1},Util:{value:n,writable:!1},init:{value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./app.xml";if(e.app)throw new P("BobbleHead is already running");return Object.defineProperty(e,"app",{value:new e.AppController(t),writable:!1}),e.app},writable:!1}}),e}()}]).default;